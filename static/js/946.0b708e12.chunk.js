/*! For license information please see 946.0b708e12.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunklogistics_dashboard_frontend=self.webpackChunklogistics_dashboard_frontend||[]).push([[946],{5818:(e,s,a)=>{a.d(s,{l:()=>l});var r=a(9643),t=a(6507);const l=function(){let{isOpen:e,open:s,onClose:a,onOpenChange:l,title:i,children:n,className:d=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=void 0!==e?e:s,c=()=>{a&&a(),l&&l(!1)};if((0,r.useEffect)((()=>{const e=e=>{"Escape"===e.key&&c()};return o&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="auto"}}),[o]),!o)return null;return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:e=>{e.target===e.currentTarget&&c()},children:(0,t.jsxs)("div",{className:`max-h-[85vh] w-full max-w-md overflow-auto rounded-lg bg-background shadow-lg ${d}`,onClick:e=>e.stopPropagation(),children:[i&&(0,t.jsxs)("div",{className:"flex items-center justify-between border-b p-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:i}),(0,t.jsx)("button",{onClick:c,className:"rounded-full p-1 transition-colors hover:bg-gray-200","aria-label":"Close",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,t.jsx)("div",{className:"p-4",children:n})]})})}},9290:(e,s,a)=>{a.r(s),a.d(s,{default:()=>D});var r=a(9643),t=a(541);const l=(0,t.A)("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);var i=a(7333),n=a(7967),d=a(1382),o=a(9382),c=a(5114),m=a(6260),x=a(3964),h=a(2665),u=a(5964),p=a(4289),g=a(2244);const v=(0,t.A)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);var f=a(6677),j=a(6870),N=a(529),w=a(3329),y=a(6424),b=a(923),k=a(6207),A=a(4513),C=a(9180),R=a(9920),P=a(6314),z=a(2616),E=a(1622),$=a(1868),S=a(6687),L=a(3172),M=a(5818),q=a(6507);const U=[{_id:"user1",email:"admin@example.com",firstName:"Admin",lastName:"User",role:"admin",phone:"555-123-4567",createdAt:"2025-01-15T10:30:00Z",isActive:!0},{_id:"user2",email:"manager@example.com",firstName:"Manager",lastName:"User",role:"manager",phone:"555-234-5678",createdAt:"2025-02-20T14:45:00Z",isActive:!0},{_id:"user3",email:"user@example.com",firstName:"Regular",lastName:"User",role:"user",phone:"555-345-6789",createdAt:"2025-03-10T09:15:00Z",isActive:!0},{_id:"user4",email:"inactive@example.com",firstName:"Inactive",lastName:"User",role:"user",phone:"555-456-7890",createdAt:"2025-04-05T16:20:00Z",isActive:!1}],D=()=>{const{t:e}=(0,k.Bd)(["users","common"]),[s,a]=(0,r.useState)([]),[t,D]=(0,r.useState)(!0),[_,Z]=(0,r.useState)(null),[F,T]=(0,r.useState)(!1),[O,W]=(0,r.useState)(null),[H,B]=(0,r.useState)(null),[I,V]=(0,r.useState)(!1),[X,J]=(0,r.useState)(!1),[G,K]=(0,r.useState)(!1),[Q,Y]=(0,r.useState)("create"),[ee,se]=(0,r.useState)(1),[ae,re]=(0,r.useState)(1),[te,le]=(0,r.useState)(0),[ie]=(0,r.useState)(10),[ne,de]=(0,r.useState)(""),[oe,ce]=(0,r.useState)(""),[me,xe]=(0,r.useState)(!1),[he,ue]=(0,r.useState)({email:"",firstName:"",lastName:"",phone:"",role:"user",password:"",confirmPassword:""}),[pe,ge]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,r.useEffect)((()=>{(async()=>{try{const e=await A.Eo.getProfile();B(e)}catch(e){console.error("Error fetching current user:",e);const s=localStorage.getItem("user");s&&B(JSON.parse(s))}})()}),[]);const ve=(0,r.useCallback)((async()=>{try{D(!0),T(!1);const e={page:ee,limit:ie,...oe&&{role:oe},...ne&&{search:ne}},s=await A.Eo.getAll(e);a(s.docs||[]),re(s.totalPages||1),le(s.totalDocs||0),Z(null)}catch(s){console.error("Error fetching users:",s),Z("Failed to fetch users"),T(!0),b.oR.error(e("users.fetchError","Failed to fetch users. Please try again later.")),a(U||[]),re(1),le(U?U.length:0)}finally{D(!1)}}),[ee,ie,oe,ne,e]);(0,r.useEffect)((()=>{ve()}),[ve]);const fe=(e,s)=>{ue((a=>({...a,[e]:s})))},je=(e,s)=>{ge((a=>({...a,[e]:s})))},Ne=()=>{ue({email:"",firstName:"",lastName:"",phone:"",role:"user",password:"",confirmPassword:""})},we=()=>{ge({currentPassword:"",newPassword:"",confirmPassword:""})},ye=()=>{Ne(),Y("create"),V(!0)},be=e=>"admin"===e?(0,q.jsx)(l,{size:16,className:"text-status-pending"}):(0,q.jsx)(i.A,{size:16,className:"text-status-in-transit"}),ke=s=>{const a={admin:e("admin"),user:e("user"),manager:e("manager"),deliverer:e("deliverer")};return(0,q.jsxs)(S.E,{variant:{admin:"warning",user:"secondary",manager:"info",deliverer:"outline"}[s]||"secondary",className:"flex items-center gap-1",children:[be(s),a[s]||s.charAt(0).toUpperCase()+s.slice(1)]})},Ae=s.filter((e=>"admin"===e.role)).length,Ce=s.filter((e=>"user"===e.role)).length,Re=s.filter((e=>e.isActive)).length;return t&&0===s.length?(0,q.jsx)(C.A,{}):F?(0,q.jsxs)("div",{className:"flex h-full flex-col items-center justify-center p-8 text-center",children:[(0,q.jsx)(n.A,{className:"mb-4 h-12 w-12 text-amber-500"}),(0,q.jsx)("h2",{className:"mb-2 text-2xl font-bold",children:e("users.errorLoadingTitle","Failed to Load Users")}),(0,q.jsx)("p",{className:"mb-6 max-w-md text-muted-foreground",children:e("users.errorLoadingDesc","There was a problem loading the users data. This could be due to a network issue or server problem.")}),(0,q.jsx)(P.$,{onClick:ve,children:e("common.tryAgain","Try Again")})]}):_&&!F?(0,q.jsx)(R.A,{message:_,onRetry:ve}):(0,q.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-6",children:[(0,q.jsxs)("div",{className:"mb-8 flex flex-col gap-6 rounded-xl bg-card p-6 shadow md:flex-row md:items-start md:justify-between",children:[(0,q.jsxs)("div",{children:[(0,q.jsxs)("h1",{className:"flex items-center gap-2 text-2xl font-bold",children:[(0,q.jsx)(i.A,{className:"h-6 w-6 text-primary"}),e("title")]}),(0,q.jsx)("p",{className:"text-muted-foreground",children:e("subtitle")})]}),(0,q.jsxs)("div",{className:"flex gap-2",children:[(0,q.jsxs)(P.$,{variant:"outline",size:"sm",onClick:ve,disabled:t,className:"flex items-center gap-2",children:[(0,q.jsx)(d.A,{className:t?"h-4 w-4 animate-spin":"h-4 w-4"}),e("refresh",{ns:"common"})]}),(0,q.jsxs)(P.$,{onClick:ye,size:"sm",className:"flex items-center gap-2",children:[(0,q.jsx)(o.A,{className:"h-4 w-4"}),e("newUser")]})]})]}),(0,q.jsxs)("div",{className:"mb-6 flex flex-col items-start justify-between gap-4 md:flex-row md:items-center",children:[(0,q.jsxs)("div",{className:"relative w-full md:max-w-md",children:[(0,q.jsx)(c.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,q.jsx)(z.p,{type:"text",placeholder:e("searchPlaceholder"),value:ne,onChange:e=>de(e.target.value),className:"pl-10"})]}),(0,q.jsxs)("div",{className:"flex items-center gap-2",children:[(0,q.jsxs)(P.$,{variant:me?"default":"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>xe(!me),children:[(0,q.jsx)(m.A,{className:"h-4 w-4"}),e("filters",{ns:"common"})]}),oe&&(0,q.jsxs)(P.$,{variant:"destructive",size:"sm",className:"flex items-center gap-2",onClick:()=>ce(""),children:[(0,q.jsx)(x.A,{className:"h-4 w-4"}),e("clear",{ns:"common"})]})]})]}),me&&(0,q.jsx)("div",{className:"mb-6 rounded-xl bg-card p-6 shadow",children:(0,q.jsxs)("div",{className:"max-w-xs space-y-2",children:[(0,q.jsx)("label",{className:"text-sm font-medium",children:e("role",{ns:"common"})}),(0,q.jsxs)(E.l,{value:oe,onChange:e=>ce(e.target.value),children:[(0,q.jsx)("option",{value:"",children:e("allRoles")}),(0,q.jsx)("option",{value:"admin",children:e("admin")}),(0,q.jsx)("option",{value:"manager",children:e("manager")}),(0,q.jsx)("option",{value:"user",children:e("user")}),(0,q.jsx)("option",{value:"deliverer",children:e("deliverer")})]})]})}),(0,q.jsxs)("div",{className:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,q.jsx)($.Zp,{children:(0,q.jsxs)($.Wu,{className:"flex flex-col items-center justify-center pt-6",children:[(0,q.jsx)("span",{className:"text-3xl font-bold",children:te}),(0,q.jsx)("span",{className:"text-sm text-muted-foreground",children:e("totalUsers")})]})}),(0,q.jsx)($.Zp,{children:(0,q.jsxs)($.Wu,{className:"flex flex-col items-center justify-center pt-6",children:[(0,q.jsx)("span",{className:"text-3xl font-bold",children:Ae}),(0,q.jsx)("span",{className:"text-sm text-muted-foreground",children:e("administrators")})]})}),(0,q.jsx)($.Zp,{children:(0,q.jsxs)($.Wu,{className:"flex flex-col items-center justify-center pt-6",children:[(0,q.jsx)("span",{className:"text-3xl font-bold",children:Ce}),(0,q.jsx)("span",{className:"text-sm text-muted-foreground",children:e("regularUsers")})]})}),(0,q.jsx)($.Zp,{children:(0,q.jsxs)($.Wu,{className:"flex flex-col items-center justify-center pt-6",children:[(0,q.jsx)("span",{className:"text-3xl font-bold",children:Re}),(0,q.jsx)("span",{className:"text-sm text-muted-foreground",children:e("activeUsers")})]})})]}),(0,q.jsxs)($.Zp,{className:"mb-6 overflow-hidden",children:[(0,q.jsxs)(L.XI,{children:[(0,q.jsx)(L.A0,{children:(0,q.jsxs)(L.Hj,{className:"bg-muted/50",children:[(0,q.jsx)(L.nd,{children:e("user",{ns:"common"})}),(0,q.jsx)(L.nd,{children:e("contact",{ns:"common"})}),(0,q.jsx)(L.nd,{children:e("role",{ns:"common"})}),(0,q.jsx)(L.nd,{children:e("status",{ns:"common"})}),(0,q.jsx)(L.nd,{children:e("created",{ns:"common"})}),(0,q.jsx)(L.nd,{className:"text-right",children:e("actionsHeader",{ns:"common"})})]})}),(0,q.jsx)(L.BF,{children:s.map((s=>(0,q.jsxs)(L.Hj,{children:[(0,q.jsx)(L.nA,{children:(0,q.jsxs)("div",{className:"flex flex-col",children:[(0,q.jsx)("span",{className:"font-medium",children:s.firstName&&s.lastName?`${s.firstName} ${s.lastName}`:s.firstName||s.lastName||"No Name"}),(0,q.jsx)("span",{className:"text-xs text-muted-foreground",children:s.email})]})}),(0,q.jsx)(L.nA,{children:(0,q.jsxs)("div",{className:"flex flex-col",children:[(0,q.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,q.jsx)(h.A,{className:"h-3 w-3 text-muted-foreground"}),(0,q.jsx)("span",{children:s.email})]}),s.phone&&(0,q.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,q.jsx)(u.A,{className:"h-3 w-3 text-muted-foreground"}),(0,q.jsx)("span",{children:s.phone})]})]})}),(0,q.jsx)(L.nA,{children:s._id===(null===H||void 0===H?void 0:H._id)?ke(s.role):(0,q.jsxs)(E.l,{value:s.role,onChange:a=>(async(s,a)=>{if(s!==(null===H||void 0===H?void 0:H._id)||"admin"===a)try{await A.Eo.updateRole(s,a),b.oR.success(e("users.updateUserSuccess")),ve()}catch(l){var r,t;console.error("Error updating user role:",l),b.oR.error((null===(r=l.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message)||e("error"))}else b.oR.error(e("users.cannotDeactivateOwn"))})(s._id,a.target.value),className:"w-32",children:[(0,q.jsx)("option",{value:"user",children:e("users.user")}),(0,q.jsx)("option",{value:"admin",children:e("users.admin")}),(0,q.jsx)("option",{value:"manager",children:e("users.manager")}),(0,q.jsx)("option",{value:"deliverer",children:e("users.deliverer")})]})}),(0,q.jsx)(L.nA,{children:(0,q.jsx)(S.E,{variant:s.isActive?"success":"destructive",className:"flex items-center gap-1",children:s.isActive?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(p.A,{className:"h-3 w-3"}),e("users.active")]}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(g.A,{className:"h-3 w-3"}),e("users.inactive")]})})}),(0,q.jsx)(L.nA,{children:(0,q.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,q.jsx)(v,{className:"h-3 w-3 text-muted-foreground"}),new Date(s.createdAt).toLocaleDateString()]})}),(0,q.jsx)(L.nA,{children:(0,q.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,q.jsx)(P.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>(async e=>{W(e),J(!0)})(s),children:(0,q.jsx)(f.A,{className:"h-4 w-4"})}),(0,q.jsx)(P.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>(e=>{W(e),ue({email:e.email||"",firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||"",role:e.role||"user",password:"",confirmPassword:""}),Y("edit"),V(!0)})(s),children:(0,q.jsx)(j.A,{className:"h-4 w-4"})}),s._id!==(null===H||void 0===H?void 0:H._id)&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(P.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-amber-500 hover:text-amber-600",onClick:()=>(async s=>{if(s!==(null===H||void 0===H?void 0:H._id)){if(window.confirm(e("users.deactivateWarning")))try{await A.Eo.deactivate(s),b.oR.success(e("users.userDeactivated")),ve()}catch(t){var a,r;console.error("Error deactivating user:",t),b.oR.error((null===(a=t.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||e("error"))}}else b.oR.error(e("users.cannotDeactivateOwn"))})(s._id),disabled:!s.isActive,children:(0,q.jsx)(g.A,{className:"h-4 w-4"})}),(0,q.jsx)(P.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive hover:text-destructive/80",onClick:()=>(async s=>{if(s!==(null===H||void 0===H?void 0:H._id)){if(window.confirm(e("users.deleteWarning")))try{await A.Eo.delete(s),b.oR.success(e("users.userDeleted")),ve()}catch(t){var a,r;console.error("Error deleting user:",t),b.oR.error((null===(a=t.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||e("error"))}}else b.oR.error(e("users.cannotDeleteOwn"))})(s._id),children:(0,q.jsx)(N.A,{className:"h-4 w-4"})})]})]})})]},s._id)))})]}),0===s.length&&!t&&(0,q.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,q.jsx)(i.A,{className:"mb-4 h-12 w-12 text-muted-foreground"}),(0,q.jsx)("h3",{className:"mb-2 text-lg font-medium",children:e("noUsersFound")}),(0,q.jsx)("p",{className:"mb-4 text-sm text-muted-foreground",children:e("noUsersFoundDescription")}),(0,q.jsxs)(P.$,{onClick:ye,className:"flex items-center gap-2",children:[(0,q.jsx)(o.A,{className:"h-4 w-4"}),e("addUser")]})]})]}),ae>1&&(0,q.jsxs)("div",{className:"mb-6 flex items-center justify-between py-4",children:[(0,q.jsxs)(P.$,{variant:"outline",size:"sm",onClick:()=>se((e=>Math.max(e-1,1))),disabled:1===ee,className:"flex items-center gap-1",children:[(0,q.jsx)(w.A,{className:"h-4 w-4"}),e("common.previous")]}),(0,q.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e("common.page")," ",ee," ",e("common.of")," ",ae," (",te," ",e("common.total"),")"]}),(0,q.jsxs)(P.$,{variant:"outline",size:"sm",onClick:()=>se((e=>Math.min(e+1,ae))),disabled:ee===ae,className:"flex items-center gap-1",children:[e("common.next"),(0,q.jsx)(y.A,{className:"h-4 w-4"})]})]}),(0,q.jsx)(M.l,{open:I,onOpenChange:V,children:(0,q.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4",children:(0,q.jsxs)("div",{className:"w-full max-w-lg rounded-lg bg-white text-black shadow-lg dark:bg-gray-800 dark:text-white",children:[(0,q.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 p-6 dark:border-gray-700",children:[(0,q.jsx)("h2",{className:"text-xl font-semibold",children:e("create"===Q?"newUser":"editUser")}),(0,q.jsx)(P.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>V(!1),children:(0,q.jsx)(x.A,{className:"h-4 w-4"})})]}),(0,q.jsxs)("form",{onSubmit:"create"===Q?async s=>{if(s.preventDefault(),!he.email)return void b.oR.error(e("validation.emailRequired"));if(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(he.email))if(he.firstName&&he.firstName.length<2)b.oR.error(e("validation.firstNameLength"));else if(he.lastName&&he.lastName.length<2)b.oR.error(e("validation.lastNameLength"));else if(!he.phone||/^[+]?[0-9\s-()]{7,}$/.test(he.phone)){if("create"===Q){if(!he.password)return void b.oR.error(e("validation.passwordRequired"));if(he.password!==he.confirmPassword)return void b.oR.error(e("auth.passwordsDoNotMatch"));if(he.password.length<6)return void b.oR.error(e("auth.passwordRequirements"));const s=/\d/.test(he.password),a=/[a-zA-Z]/.test(he.password);if(!s||!a)return void b.oR.error(e("auth.passwordComplexity"))}try{const s={email:he.email,password:he.password,firstName:he.firstName,lastName:he.lastName,phone:he.phone,role:he.role},a=await A.Eo.create(s);console.log("User created successfully:",a),b.oR.success(e("users.createUserSuccess")),V(!1),Ne(),ve()}catch(a){console.error("Error creating user:",a),a.message?b.oR.error(a.message):b.oR.error(e("error"))}}else b.oR.error(e("validation.invalidPhone"));else b.oR.error(e("validation.invalidEmail"))}:async s=>{if(s.preventDefault(),!he.email)return void b.oR.error(e("validation.emailRequired"));if(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(he.email))if(he.firstName&&he.firstName.length<2)b.oR.error(e("validation.firstNameLength"));else if(he.lastName&&he.lastName.length<2)b.oR.error(e("validation.lastNameLength"));else if(!he.phone||/^[+]?[0-9\s-()]{7,}$/.test(he.phone))try{const s={email:he.email,firstName:he.firstName,lastName:he.lastName,phone:he.phone};await A.Eo.updateProfile(s),he.role!==O.role&&await A.Eo.updateRole(O._id,he.role),b.oR.success(e("users.updateUserSuccess")),V(!1),Ne(),ve()}catch(l){var r,t;console.error("Error updating user:",l),b.oR.error((null===(r=l.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message)||e("error")),a((e=>e.map((e=>e._id===O._id?{...e,email:he.email,firstName:he.firstName,lastName:he.lastName,phone:he.phone,role:he.role}:e)))),V(!1),Ne(),b.oR.success(e("users.updateUserSuccess")+" (Demo)")}else b.oR.error(e("validation.invalidPhone"));else b.oR.error(e("validation.invalidEmail"))},className:"space-y-6 p-6",children:[(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsx)("h3",{className:"text-lg font-medium dark:text-gray-200",children:e("userDetails")}),(0,q.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,q.jsxs)("div",{className:"space-y-2",children:[(0,q.jsxs)("label",{className:"text-sm font-medium dark:text-gray-200",children:[e("email")," *"]}),(0,q.jsx)(z.p,{type:"email",value:he.email,onChange:e=>fe("email",e.target.value),required:!0,placeholder:"user@example.com",pattern:"^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$",title:e("validation.invalidEmail")}),(0,q.jsx)("small",{className:"text-xs text-muted-foreground",children:e("validation.validEmailRequired")})]}),(0,q.jsxs)("div",{className:"space-y-2",children:[(0,q.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:e("role")}),(0,q.jsxs)(E.l,{value:he.role,onChange:e=>fe("role",e.target.value),children:[(0,q.jsx)("option",{value:"user",children:e("user")}),(0,q.jsx)("option",{value:"admin",children:e("admin")}),(0,q.jsx)("option",{value:"manager",children:e("manager")}),(0,q.jsx)("option",{value:"deliverer",children:e("deliverer")})]})]})]}),(0,q.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,q.jsxs)("div",{className:"space-y-2",children:[(0,q.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:e("firstName")}),(0,q.jsx)(z.p,{type:"text",value:he.firstName,onChange:e=>fe("firstName",e.target.value),minLength:"2",title:e("validation.firstNameLength")})]}),(0,q.jsxs)("div",{className:"space-y-2",children:[(0,q.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:e("lastName")}),(0,q.jsx)(z.p,{type:"text",value:he.lastName,onChange:e=>fe("lastName",e.target.value),minLength:"2",title:e("validation.lastNameLength")})]})]}),(0,q.jsxs)("div",{className:"space-y-2",children:[(0,q.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:e("phone")}),(0,q.jsx)(z.p,{type:"tel",value:he.phone,onChange:e=>fe("phone",e.target.value),pattern:"^[+]?[0-9\\s-()]{7,}$",title:e("validation.invalidPhone"),placeholder:"+1 (555) 123-4567"}),(0,q.jsx)("small",{className:"text-xs text-muted-foreground",children:e("validation.phoneFormat")})]})]}),"create"===Q&&(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsx)("h3",{className:"text-lg font-medium dark:text-gray-200",children:e("security",{ns:"settings"})}),(0,q.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,q.jsxs)("div",{className:"space-y-2",children:[(0,q.jsxs)("label",{className:"text-sm font-medium dark:text-gray-200",children:[e("password")," *"]}),(0,q.jsx)(z.p,{type:"password",value:he.password,onChange:e=>fe("password",e.target.value),required:!0,minLength:6,pattern:"^(?=.*[0-9])(?=.*[a-zA-Z]).{6,}$",title:e("auth.passwordComplexity")}),(0,q.jsx)("small",{className:"text-xs text-muted-foreground",children:e("validation.passwordRequirements")})]}),(0,q.jsxs)("div",{className:"space-y-2",children:[(0,q.jsxs)("label",{className:"text-sm font-medium dark:text-gray-200",children:[e("confirmPassword")," *"]}),(0,q.jsx)(z.p,{type:"password",value:he.confirmPassword,onChange:e=>fe("confirmPassword",e.target.value),required:!0,minLength:6})]})]})]}),(0,q.jsxs)("div",{className:"flex justify-end gap-2 border-t border-gray-200 pt-4 dark:border-gray-700",children:[(0,q.jsx)(P.$,{type:"button",variant:"outline",onClick:()=>V(!1),children:e("cancel",{ns:"common"})}),(0,q.jsx)(P.$,{type:"submit",children:"create"===Q?e("addUser"):e("save",{ns:"common"})})]})]})]})})}),X&&O&&(0,q.jsx)(M.l,{open:X,onOpenChange:J,children:(0,q.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4",children:(0,q.jsxs)("div",{className:"w-full max-w-lg rounded-lg bg-white text-black shadow-lg dark:bg-gray-800 dark:text-white",children:[(0,q.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 p-6 dark:border-gray-700",children:[(0,q.jsx)("h2",{className:"text-xl font-semibold",children:e("userDetails")}),(0,q.jsx)(P.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>J(!1),children:(0,q.jsx)(x.A,{className:"h-4 w-4"})})]}),(0,q.jsxs)("div",{className:"space-y-6 p-6",children:[(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsx)("h3",{className:"text-lg font-medium dark:text-gray-200",children:e("userDetails")}),(0,q.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,q.jsxs)("div",{className:"space-y-1",children:[(0,q.jsxs)("label",{className:"text-sm font-medium text-muted-foreground",children:[e("firstName")," ",e("lastName")]}),(0,q.jsx)("p",{children:O.firstName&&O.lastName?`${O.firstName} ${O.lastName}`:O.firstName||O.lastName||e("common.noResults")})]}),(0,q.jsxs)("div",{className:"space-y-1",children:[(0,q.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:e("email")}),(0,q.jsx)("p",{children:O.email})]}),(0,q.jsxs)("div",{className:"space-y-1",children:[(0,q.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:e("phone")}),(0,q.jsx)("p",{children:O.phone||e("noResults",{ns:"common"})})]}),(0,q.jsxs)("div",{className:"space-y-1",children:[(0,q.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:e("role")}),(0,q.jsx)("div",{children:ke(O.role)})]})]})]}),(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsx)("h3",{className:"text-lg font-medium dark:text-gray-200",children:e("status",{ns:"common"})}),(0,q.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,q.jsxs)("div",{className:"space-y-1",children:[(0,q.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:e("status",{ns:"common"})}),(0,q.jsx)("div",{children:(0,q.jsx)(S.E,{variant:O.isActive?"success":"destructive",className:"flex items-center gap-1",children:O.isActive?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(p.A,{className:"h-3 w-3"}),e("active")]}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(g.A,{className:"h-3 w-3"}),e("inactive")]})})})]}),(0,q.jsxs)("div",{className:"space-y-1",children:[(0,q.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:e("created",{ns:"common"})}),(0,q.jsx)("p",{children:new Date(O.createdAt).toLocaleDateString()})]})]})]})]})]})})}),G&&(0,q.jsx)(M.l,{open:G,onOpenChange:K,children:(0,q.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4",children:(0,q.jsxs)("div",{className:"w-full max-w-lg rounded-lg bg-white text-black shadow-lg dark:bg-gray-800 dark:text-white",children:[(0,q.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-200 p-6 dark:border-gray-700",children:[(0,q.jsx)("h2",{className:"text-xl font-semibold",children:e("changePassword")}),(0,q.jsx)(P.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>K(!1),children:(0,q.jsx)(x.A,{className:"h-4 w-4"})})]}),(0,q.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),!pe.currentPassword)return void b.oR.error(e("validation.currentPasswordRequired"));if(!pe.newPassword)return void b.oR.error(e("validation.newPasswordRequired"));if(pe.newPassword!==pe.confirmPassword)return void b.oR.error(e("auth.passwordsDoNotMatch"));if(pe.newPassword.length<6)return void b.oR.error(e("auth.passwordRequirements"));const a=/\d/.test(pe.newPassword),r=/[a-zA-Z]/.test(pe.newPassword);if(a&&r)try{await A.Eo.changePassword({currentPassword:pe.currentPassword,newPassword:pe.newPassword,confirmPassword:pe.confirmPassword}),b.oR.success(e("users.passwordChanged")),K(!1),we()}catch(i){var t,l;console.error("Error changing password:",i),b.oR.error((null===(t=i.response)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.message)||e("error")),"password123"===pe.currentPassword&&(K(!1),we(),b.oR.success(e("users.passwordChanged")+" (Demo)"))}else b.oR.error(e("auth.passwordComplexity"))},className:"space-y-6 p-6",children:[(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsx)("h3",{className:"text-lg font-medium dark:text-gray-200",children:e("security",{ns:"settings"})}),(0,q.jsxs)("div",{className:"space-y-2",children:[(0,q.jsxs)("label",{className:"text-sm font-medium dark:text-gray-200",children:[e("currentPassword")," *"]}),(0,q.jsx)(z.p,{type:"password",value:pe.currentPassword,onChange:e=>je("currentPassword",e.target.value),required:!0})]}),(0,q.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,q.jsxs)("div",{className:"space-y-2",children:[(0,q.jsxs)("label",{className:"text-sm font-medium dark:text-gray-200",children:[e("newPassword")," *"]}),(0,q.jsx)(z.p,{type:"password",value:pe.newPassword,onChange:e=>je("newPassword",e.target.value),required:!0,minLength:6,pattern:"^(?=.*[0-9])(?=.*[a-zA-Z]).{6,}$",title:e("auth.passwordComplexity")}),(0,q.jsx)("small",{className:"text-xs text-muted-foreground",children:e("validation.passwordRequirements")})]}),(0,q.jsxs)("div",{className:"space-y-2",children:[(0,q.jsxs)("label",{className:"text-sm font-medium dark:text-gray-200",children:[e("confirmPassword")," *"]}),(0,q.jsx)(z.p,{type:"password",value:pe.confirmPassword,onChange:e=>je("confirmPassword",e.target.value),required:!0,minLength:6})]})]})]}),(0,q.jsxs)("div",{className:"flex justify-end gap-2 border-t border-gray-200 pt-4 dark:border-gray-700",children:[(0,q.jsx)(P.$,{type:"button",variant:"outline",onClick:()=>K(!1),children:e("cancel",{ns:"common"})}),(0,q.jsx)(P.$,{type:"submit",children:e("changePassword")})]})]})]})})})]})}},2732:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(541).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7967:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(541).A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},4289:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(541).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3329:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(541).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},6424:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(541).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},6677:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(541).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6260:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(541).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},2665:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(541).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},6870:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(541).A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]])},5964:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(541).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9382:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(541).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3877:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(541).A)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},5114:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(541).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},529:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(541).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2244:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(541).A)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},7333:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(541).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},3964:(e,s,a)=>{a.d(s,{A:()=>r});const r=(0,a(541).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}}]);
//# sourceMappingURL=946.0b708e12.chunk.js.map