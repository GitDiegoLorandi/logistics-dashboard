/*! For license information please see 552.d0b24a36.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunklogistics_dashboard_frontend=self.webpackChunklogistics_dashboard_frontend||[]).push([[552],{2552:(e,t,r)=>{r.r(t),r.d(t,{default:()=>D});var s=r(9643),a=r(7333),o=r(7135),i=r(5295),l=r(4447),n=r(9927),c=r(1382),d=r(5674);const u=(0,r(541).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var m=r(7967),h=r(923),f=r(6207),g=r(4513);const p=e=>{if(e)try{const t=g.R2.getStoredUser(),r={...t||{},...e,id:e.id||e._id||t&&(t.id||t._id),_id:e._id||e.id||t&&(t._id||t.id)};return localStorage.setItem("user",JSON.stringify(r)),console.log("User data synchronized with localStorage"),r}catch(t){return console.error("Error synchronizing user data:",t),e}},x=e=>{if(!e)return null;const t={...e};return t.id&&!t._id&&(t._id=t.id),t._id&&!t.id&&(t.id=t._id),t},v=()=>{const e=g.R2.getStoredUser();return e?x(e):{}};var y=r(6314),b=r(2616),j=r(1622),N=(r(1868),r(6687),r(6507));const w=s.forwardRef(((e,t)=>{let{className:r="",checked:s,onChange:a,...o}=e;return(0,N.jsx)("button",{type:"button",role:"switch","aria-checked":s,"data-state":s?"checked":"unchecked",className:`\n        relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent\n        transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\n        focus-visible:ring-offset-2 focus-visible:ring-offset-background\n        disabled:cursor-not-allowed disabled:opacity-50\n        ${s?"bg-primary":"bg-input"}\n        ${r}\n      `,onClick:()=>a(!s),ref:t,...o,children:(0,N.jsx)("span",{"data-state":s?"checked":"unchecked",className:`\n          pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0\n          transition-transform\n          ${s?"translate-x-5":"translate-x-0"}\n        `})})}));w.displayName="Switch";const k=s.forwardRef(((e,t)=>{let{className:r="",children:s,...a}=e;return(0,N.jsx)("label",{className:`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ${r}`,ref:t,...a,children:s})}));k.displayName="Label";var A=r(6681);const D=()=>{const{t:e}=(0,f.Bd)(["settings","common"]),[t,r]=(0,s.useState)("profile"),[D,I]=(0,s.useState)(!1),[S,E]=(0,s.useState)(!1),[V,C]=(0,s.useState)(null),[R,P]=(0,s.useState)(!1),[$,T]=(0,s.useState)(!1),[Y,M]=(0,s.useState)({firstName:"",lastName:"",email:"",phone:"",avatar:null}),[q,H]=(0,s.useState)({language:"en",timezone:"UTC",dateFormat:"MM/DD/YYYY",currency:"USD",autoRefresh:!0,refreshInterval:30}),[U,F]=(0,s.useState)({emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,deliveryUpdates:!0,systemAlerts:!0,weeklyReports:!0,criticalAlertsOnly:!1,quietHours:{enabled:!1,start:"22:00",end:"08:00"}}),_=[{id:"profile",label:e("profile"),icon:a.A},{id:"system",label:e("system"),icon:o.A},{id:"notifications",label:e("notificationsTab",{defaultValue:"Notifications"}),icon:i.A},{id:"data",label:e("data"),icon:l.A}];(0,s.useEffect)((()=>{J();const e=localStorage.getItem("systemPrefs");if(e)try{const t=JSON.parse(e);H((e=>({...e,...t})))}catch(t){console.error("Error parsing saved preferences:",t)}}),[]);const J=async()=>{try{I(!0);const r=v();r&&Object.keys(r).length>0&&(M({firstName:r.firstName||"",lastName:r.lastName||"",email:r.email||"",phone:r.phone||"",avatar:r.avatar||null}),C(r));try{const e=await g.Eo.getProfile();console.log("User profile data received:",e);const t=(null===e||void 0===e?void 0:e.data)||e;if(!t)throw new Error("No user data received");const r=x(t);p(r),C(r),M({firstName:r.firstName||"",lastName:r.lastName||"",email:r.email||"",phone:r.phone||"",avatar:r.avatar||null}),console.log("Profile data set successfully:",{firstName:r.firstName,lastName:r.lastName,email:r.email})}catch(t){console.error("Error fetching user profile from API:",t),r&&0!==Object.keys(r).length?h.oR.warn(e("usingCachedProfile",{defaultValue:"Using cached profile data"})):(h.oR.error(e("failedToLoadProfile",{defaultValue:"Failed to load profile data"})),M({firstName:"",lastName:"",email:"",phone:"",avatar:null}))}}finally{I(!1)}},O=async t=>{t.preventDefault();try{E(!0);const t=V||v(),s={...Y,id:t.id,_id:t._id};console.log("Updating profile with data:",s);try{const r=await g.Eo.updateProfile(s);console.log("Profile update API response:",r),p({...t,...Y,...(null===r||void 0===r?void 0:r.user)||r||{}}),h.oR.success(e("profileUpdated",{defaultValue:"Profile updated successfully"}))}catch(r){console.error("API error updating profile:",r),p({...t,...Y}),h.oR.warn(e("profileUpdatedLocallyOnly",{defaultValue:"Profile updated locally only. Changes will sync when connection is restored."}))}await J()}catch(s){console.error("Error in profile update process:",s),h.oR.error(e("profileUpdateFailed",{defaultValue:"Failed to update profile"}))}finally{E(!1)}},z=async e=>{e.preventDefault();try{E(!0),localStorage.setItem("systemPrefs",JSON.stringify(q)),document.documentElement.lang=q.language,h.oR.success("System preferences saved")}catch(t){console.error("Error saving system preferences:",t),h.oR.error("Failed to save preferences")}finally{E(!1)}},B=async e=>{e.preventDefault();try{E(!0),localStorage.setItem("notificationSettings",JSON.stringify(U)),h.oR.success("Notification settings saved")}catch(t){console.error("Error saving notification settings:",t),h.oR.error("Failed to save notification settings")}finally{E(!1)}},L=async()=>{try{E(!0),h.oR.info("Preparing deliveries export..."),setTimeout((()=>{const e=[{id:1,orderId:"ORD-001",customer:"John Doe",status:"Delivered"},{id:2,orderId:"ORD-002",customer:"Jane Smith",status:"In Transit"}],t=Object.keys(e[0]).join(","),r=e.map((e=>Object.values(e).join(","))).join("\n"),s=new Blob([`${t}\n${r}`],{type:"text/csv"}),a=window.URL.createObjectURL(s),o=document.createElement("a");o.setAttribute("hidden",""),o.setAttribute("href",a),o.setAttribute("download","deliveries_export.csv"),document.body.appendChild(o),o.click(),document.body.removeChild(o),h.oR.success("Deliveries exported successfully!"),E(!1)}),1500)}catch(e){console.error("Export error:",e),h.oR.error("Failed to export deliveries"),E(!1)}},Z=()=>(0,N.jsx)("div",{className:"space-y-6",children:(0,N.jsxs)("div",{className:"flex flex-col gap-6 rounded-xl bg-card p-6 shadow",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h2",{className:"text-xl font-bold",children:e("profile")}),(0,N.jsx)("p",{className:"text-muted-foreground",children:e("account")})]}),(0,N.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)("label",{className:"text-sm font-medium",children:e("firstName",{ns:"users"})}),(0,N.jsx)(b.p,{value:Y.firstName,onChange:e=>M({...Y,firstName:e.target.value})})]}),(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)("label",{className:"text-sm font-medium",children:e("lastName",{ns:"users"})}),(0,N.jsx)(b.p,{value:Y.lastName,onChange:e=>M({...Y,lastName:e.target.value})})]})]}),(0,N.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)("label",{className:"text-sm font-medium",children:e("email",{ns:"users"})}),(0,N.jsx)(b.p,{type:"email",value:Y.email,onChange:e=>M({...Y,email:e.target.value}),disabled:!0})]}),(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)("label",{className:"text-sm font-medium",children:e("phone",{ns:"users"})}),(0,N.jsx)(b.p,{type:"tel",value:Y.phone,onChange:e=>M({...Y,phone:e.target.value})})]})]}),(0,N.jsx)("div",{className:"flex justify-end",children:(0,N.jsxs)(y.$,{onClick:O,disabled:S,className:"flex items-center gap-2",children:[(0,N.jsx)(n.A,{className:"h-4 w-4"}),e(S?"common:loading":"common:save")]})})]})});return D?(0,N.jsx)("div",{className:"mx-auto flex min-h-[50vh] max-w-7xl items-center justify-center px-4 py-6",children:(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("div",{className:"mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-4 border-primary border-t-transparent"}),(0,N.jsx)("p",{className:"text-muted-foreground",children:"Loading settings..."})]})}):(0,N.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-6",children:[(0,N.jsx)("div",{className:"mb-8 flex flex-col gap-6 rounded-xl bg-card p-6 shadow md:flex-row md:items-start md:justify-between",children:(0,N.jsxs)("div",{children:[(0,N.jsxs)("h1",{className:"flex items-center gap-2 text-2xl font-bold",children:[(0,N.jsx)(o.A,{className:"h-6 w-6 text-primary"}),e("title",{ns:"settings"})]}),(0,N.jsx)("p",{className:"text-muted-foreground",children:e("preferencesSubtitle",{ns:"settings"})})]})}),(0,N.jsxs)("div",{className:"flex flex-col gap-8 lg:flex-row",children:[(0,N.jsx)("div",{className:"lg:w-64",children:(0,N.jsx)("div",{className:"sticky top-6 space-y-4 rounded-xl bg-card p-4 shadow",children:(0,N.jsxs)("div",{className:"space-y-1",children:[(0,N.jsx)("h3",{className:"text-sm font-medium",children:e("title")}),(0,N.jsx)("nav",{className:"flex flex-col gap-1",children:_.map((e=>(0,N.jsxs)("button",{onClick:()=>r(e.id),className:(0,A.cn)("flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium",t===e.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[(0,N.jsx)(e.icon,{className:"h-4 w-4"}),e.label]},e.id)))})]})})}),(0,N.jsx)("div",{className:"flex-1",children:(()=>{switch(t){case"profile":default:return Z();case"system":return(0,N.jsx)("div",{className:"space-y-6",children:(0,N.jsxs)("div",{className:"flex flex-col gap-6 rounded-xl bg-card p-6 shadow",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h2",{className:"text-xl font-bold",children:e("system")}),(0,N.jsx)("p",{className:"text-muted-foreground",children:e("preferences")})]}),(0,N.jsxs)("form",{onSubmit:z,className:"space-y-6",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"mb-4 text-lg font-medium",children:e("language")}),(0,N.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)("label",{className:"text-sm font-medium",children:e("language")}),(0,N.jsxs)(j.l,{value:q.language,onChange:e=>H({...q,language:e.target.value}),children:[(0,N.jsx)("option",{value:"en",children:e("languages.en",{ns:"settings"})}),(0,N.jsx)("option",{value:"pt",children:e("languages.pt",{ns:"settings"})})]})]})})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"mb-4 text-lg font-medium",children:e("regionalization",{defaultValue:"Regionalization"})}),(0,N.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)("label",{className:"text-sm font-medium",children:e("timezone")}),(0,N.jsxs)(j.l,{value:q.timezone,onChange:e=>H({...q,timezone:e.target.value}),children:[(0,N.jsx)("option",{value:"UTC",children:"UTC"}),(0,N.jsx)("option",{value:"America/New_York",children:"Eastern Time (ET)"}),(0,N.jsx)("option",{value:"America/Chicago",children:"Central Time (CT)"}),(0,N.jsx)("option",{value:"America/Denver",children:"Mountain Time (MT)"}),(0,N.jsx)("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),(0,N.jsx)("option",{value:"America/Sao_Paulo",children:"Bras\xedlia Time (BRT)"})]})]}),(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)("label",{className:"text-sm font-medium",children:e("dateFormat")}),(0,N.jsxs)(j.l,{value:q.dateFormat,onChange:e=>H({...q,dateFormat:e.target.value}),children:[(0,N.jsx)("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),(0,N.jsx)("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),(0,N.jsx)("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"mb-4 text-lg font-medium",children:e("dashboardBehavior",{defaultValue:"Dashboard Behavior"})}),(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)(k,{htmlFor:"auto-refresh",children:e("autoRefresh",{defaultValue:"Auto Refresh"})}),(0,N.jsx)("p",{className:"text-sm text-muted-foreground",children:e("autoRefreshDescription",{defaultValue:"Automatically refresh dashboard data"})})]}),(0,N.jsx)(w,{id:"auto-refresh",checked:q.autoRefresh,onChange:e=>H({...q,autoRefresh:e})})]}),q.autoRefresh&&(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)("label",{className:"text-sm font-medium",children:e("refreshInterval",{defaultValue:"Refresh Interval (seconds)"})}),(0,N.jsx)(b.p,{type:"number",min:"10",max:"300",value:q.refreshInterval,onChange:e=>H({...q,refreshInterval:parseInt(e.target.value,10)||30})})]})]})]}),(0,N.jsx)("div",{className:"flex justify-end",children:(0,N.jsxs)(y.$,{type:"submit",disabled:S,className:"flex items-center gap-2",children:[(0,N.jsx)(n.A,{className:"h-4 w-4"}),S?e("common:loading"):e("savePreferences",{defaultValue:"Save Preferences"})]})})]})]})});case"notifications":return(0,N.jsx)("div",{className:"space-y-6",children:(0,N.jsxs)("div",{className:"flex flex-col gap-6 rounded-xl bg-card p-6 shadow",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h2",{className:"text-xl font-bold",children:e("notificationsTab",{ns:"settings"})}),(0,N.jsx)("p",{className:"text-muted-foreground",children:e("notificationsDescription",{defaultValue:"Configure how and when you receive notifications"})})]}),(0,N.jsxs)("form",{onSubmit:B,className:"space-y-6",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"mb-4 text-lg font-medium",children:e("notificationChannels",{defaultValue:"Notification Channels"})}),(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("div",{children:(0,N.jsx)(k,{htmlFor:"email-notifications",children:e("notifications.email",{ns:"settings"})})}),(0,N.jsx)(w,{id:"email-notifications",checked:U.emailNotifications,onChange:e=>F({...U,emailNotifications:e})})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("div",{children:(0,N.jsx)(k,{htmlFor:"push-notifications",children:e("notifications.push",{ns:"settings"})})}),(0,N.jsx)(w,{id:"push-notifications",checked:U.pushNotifications,onChange:e=>F({...U,pushNotifications:e})})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("div",{children:(0,N.jsx)(k,{htmlFor:"sms-notifications",children:e("notifications.sms",{ns:"settings"})})}),(0,N.jsx)(w,{id:"sms-notifications",checked:U.smsNotifications,onChange:e=>F({...U,smsNotifications:e})})]})]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"mb-4 text-lg font-medium",children:e("notificationTypes",{defaultValue:"Notification Types"})}),(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)(k,{htmlFor:"delivery-updates",children:e("notifications.deliveryUpdates",{ns:"settings"})}),(0,N.jsx)("p",{className:"text-sm text-muted-foreground",children:e("deliveryUpdatesDescription",{defaultValue:"Get notified when delivery status changes"})})]}),(0,N.jsx)(w,{id:"delivery-updates",checked:U.deliveryUpdates,onChange:e=>F({...U,deliveryUpdates:e})})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)(k,{htmlFor:"system-alerts",children:e("notifications.systemAlerts",{ns:"settings"})}),(0,N.jsx)("p",{className:"text-sm text-muted-foreground",children:e("systemAlertsDescription",{defaultValue:"Important system notifications and errors"})})]}),(0,N.jsx)(w,{id:"system-alerts",checked:U.systemAlerts,onChange:e=>F({...U,systemAlerts:e})})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)(k,{htmlFor:"weekly-reports",children:e("notifications.weeklyReports",{ns:"settings"})}),(0,N.jsx)("p",{className:"text-sm text-muted-foreground",children:e("weeklyReportsDescription",{defaultValue:"Performance summaries and analytics"})})]}),(0,N.jsx)(w,{id:"weekly-reports",checked:U.weeklyReports,onChange:e=>F({...U,weeklyReports:e})})]})]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"mb-4 text-lg font-medium",children:e("quietHours",{defaultValue:"Quiet Hours"})}),(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)(k,{htmlFor:"quiet-hours",children:e("enableQuietHours",{defaultValue:"Enable Quiet Hours"})}),(0,N.jsx)("p",{className:"text-sm text-muted-foreground",children:e("quietHoursDescription",{defaultValue:"Suppress non-critical notifications during specified hours"})})]}),(0,N.jsx)(w,{id:"quiet-hours",checked:U.quietHours.enabled,onChange:e=>F({...U,quietHours:{...U.quietHours,enabled:e}})})]}),U.quietHours.enabled&&(0,N.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)(k,{htmlFor:"start-time",children:e("startTime",{defaultValue:"Start Time"})}),(0,N.jsx)(b.p,{id:"start-time",type:"time",value:U.quietHours.start,onChange:e=>F({...U,quietHours:{...U.quietHours,start:e.target.value}})})]}),(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)(k,{htmlFor:"end-time",children:e("endTime",{defaultValue:"End Time"})}),(0,N.jsx)(b.p,{id:"end-time",type:"time",value:U.quietHours.end,onChange:e=>F({...U,quietHours:{...U.quietHours,end:e.target.value}})})]})]})]})]}),(0,N.jsx)("div",{className:"flex justify-end",children:(0,N.jsxs)(y.$,{type:"submit",disabled:S,className:"flex items-center gap-2",children:[(0,N.jsx)(n.A,{className:"h-4 w-4"}),S?e("common:loading"):e("saveNotificationSettings",{defaultValue:"Save Notification Settings"})]})})]})]})});case"data":return(0,N.jsx)("div",{className:"space-y-6",children:(0,N.jsxs)("div",{className:"flex flex-col gap-6 rounded-xl bg-card p-6 shadow",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h2",{className:"text-xl font-bold",children:e("data",{defaultValue:"Data Management"})}),(0,N.jsx)("p",{className:"text-muted-foreground",children:e("dataManagementDescription",{defaultValue:"Import, export, and manage your data"})})]}),(0,N.jsxs)("div",{className:"space-y-6",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"mb-4 text-lg font-medium",children:e("dataExport",{defaultValue:"Data Export"})}),(0,N.jsx)("div",{className:"space-y-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"font-medium",children:e("exportDeliveries",{defaultValue:"Export Deliveries"})}),(0,N.jsx)("p",{className:"text-sm text-muted-foreground",children:e("exportDeliveriesDescription",{defaultValue:"Download delivery history in CSV format"})})]}),(0,N.jsx)(y.$,{onClick:L,variant:"outline",disabled:S,className:"flex items-center gap-2",children:S?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(c.A,{className:"h-4 w-4 animate-spin"}),e("exporting",{defaultValue:"Exporting..."})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(d.A,{className:"h-4 w-4"}),e("exportDeliveries",{defaultValue:"Export Deliveries"})]})})]})})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"mb-4 text-lg font-medium",children:e("dataImport",{defaultValue:"Data Import"})}),(0,N.jsx)("div",{className:"space-y-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"font-medium",children:e("importDeliveries",{defaultValue:"Import Deliveries"})}),(0,N.jsx)("p",{className:"text-sm text-muted-foreground",children:e("importDeliveriesDescription",{defaultValue:"Upload delivery data from CSV file"})})]}),(0,N.jsxs)(y.$,{variant:"outline",className:"flex items-center gap-2",children:[(0,N.jsx)(u,{className:"h-4 w-4"}),e("chooseFile",{defaultValue:"Choose File"}),(0,N.jsx)("input",{type:"file",accept:".csv",className:"hidden"})]})]})})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"mb-4 text-lg font-medium",children:e("dataRetention",{defaultValue:"Data Retention"})}),(0,N.jsx)("div",{className:"space-y-4",children:(0,N.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)("label",{className:"text-sm font-medium",children:e("automaticDataCleanup",{defaultValue:"Automatic Data Cleanup"})}),(0,N.jsxs)(j.l,{children:[(0,N.jsx)("option",{value:"never",children:e("neverDelete",{defaultValue:"Never delete"})}),(0,N.jsx)("option",{value:"1year",children:e("after1Year",{defaultValue:"After 1 year"})}),(0,N.jsx)("option",{value:"2years",children:e("after2Years",{defaultValue:"After 2 years"})}),(0,N.jsx)("option",{value:"5years",children:e("after5Years",{defaultValue:"After 5 years"})})]}),(0,N.jsx)("p",{className:"text-xs text-muted-foreground",children:e("automaticDataCleanupDescription",{defaultValue:"Automatically delete old delivery records after specified period"})})]})})})]}),(0,N.jsxs)("div",{className:"border-t pt-6",children:[(0,N.jsx)("h3",{className:"mb-4 text-lg font-medium text-destructive",children:e("dangerZone",{defaultValue:"Danger Zone"})}),(0,N.jsx)("div",{className:"space-y-4",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"font-medium",children:e("deleteAllData",{defaultValue:"Delete All Data"})}),(0,N.jsx)("p",{className:"text-sm text-muted-foreground",children:e("deleteAllDataDescription",{defaultValue:"Permanently delete all your account data. This action cannot be undone."})})]}),(0,N.jsxs)(y.$,{variant:"destructive",className:"flex items-center gap-2",children:[(0,N.jsx)(m.A,{className:"h-4 w-4"}),e("deleteAllData",{defaultValue:"Delete All Data"})]})]})})]})]})]})})}})()})]})]})}},6687:(e,t,r)=>{r.d(t,{E:()=>a});r(9643);var s=r(6507);const a=e=>{let{variant:t="default",className:r="",children:a,...o}=e;const i={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground",success:"bg-green-500 text-white hover:bg-green-600",warning:"bg-yellow-500 text-white hover:bg-yellow-600",info:"bg-blue-500 text-white hover:bg-blue-600",pending:"bg-yellow-500 text-white hover:bg-yellow-600",inProgress:"bg-blue-500 text-white hover:bg-blue-600",completed:"bg-green-500 text-white hover:bg-green-600",cancelled:"bg-gray-500 text-white hover:bg-gray-600",delayed:"bg-orange-500 text-white hover:bg-orange-600",onHold:"bg-purple-500 text-white hover:bg-purple-600",PENDING:"bg-yellow-500 text-white hover:bg-yellow-600",IN_TRANSIT:"bg-blue-500 text-white hover:bg-blue-600",DELIVERED:"bg-green-500 text-white hover:bg-green-600",CANCELLED:"bg-gray-500 text-white hover:bg-gray-600",DELAYED:"bg-orange-500 text-white hover:bg-orange-600",ON_HOLD:"bg-purple-500 text-white hover:bg-purple-600"};return(0,s.jsx)("div",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ${i[t]||i.default} ${r}`,...o,children:a})}},6314:(e,t,r)=>{r.d(t,{$:()=>o});var s=r(9643),a=r(6507);const o=s.forwardRef(((e,t)=>{let{className:r="",variant:s="default",size:o="default",children:i,isLoading:l=!1,startIcon:n,endIcon:c,gradient:d=!1,...u}=e;const m={default:d?"bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-primary-dark)] text-white hover:shadow-[var(--shadow-md)] hover:-translate-y-0.5":"bg-[var(--color-primary)] text-white hover:bg-[var(--color-primary-dark)] hover:shadow-[var(--shadow-md)]",destructive:d?"bg-gradient-to-r from-[var(--color-error)] to-[#b91c1c] text-white hover:shadow-[var(--shadow-md)] hover:-translate-y-0.5":"bg-[var(--color-error)] text-white hover:bg-opacity-90 hover:shadow-[var(--shadow-md)]",outline:"border border-[var(--color-border)] bg-transparent text-[var(--text-primary)] hover:bg-[var(--input-bg)] hover:border-[var(--color-primary-light)]",secondary:d?"bg-gradient-to-r from-[var(--color-secondary)] to-[var(--color-secondary-dark)] text-white hover:shadow-[var(--shadow-md)] hover:-translate-y-0.5":"bg-[var(--color-secondary)] text-white hover:bg-[var(--color-secondary-dark)] hover:shadow-[var(--shadow-md)]",accent:d?"bg-gradient-to-r from-[var(--color-accent)] to-[var(--color-accent-dark)] text-white hover:shadow-[var(--shadow-md)] hover:-translate-y-0.5":"bg-[var(--color-accent)] text-white hover:bg-[var(--color-accent-dark)] hover:shadow-[var(--shadow-md)]",ghost:"hover:bg-[var(--input-bg)] text-[var(--text-primary)]",link:"text-[var(--color-primary)] underline-offset-4 hover:underline hover:text-[var(--color-primary-light)]"};return(0,a.jsxs)("button",{className:`relative inline-flex items-center justify-center rounded-md font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-primary)] focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-[var(--shadow-sm)] ${m[s]} ${{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3 text-sm",lg:"h-11 rounded-md px-8 text-lg",icon:"h-10 w-10"}[o]} ${r}`,ref:t,disabled:l||u.disabled,...u,children:[l&&(0,a.jsx)("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,a.jsxs)("span",{className:l?"invisible":"flex items-center gap-2",children:[n&&(0,a.jsx)("span",{className:"mr-1",children:n}),i,c&&(0,a.jsx)("span",{className:"ml-1",children:c})]})]})}));o.displayName="Button"},1868:(e,t,r)=>{r.d(t,{Wu:()=>l,Zp:()=>o,aR:()=>i});r(9643);var s=r(6739),a=r(6507);const o=e=>{let{className:t="",children:r,variant:o="default",isInteractive:i=!1,animate:l=!1,hoverEffect:n="shadow",...c}=e;const d=(()=>{if(!i)return"";switch(n){case"shadow":return"hover:shadow-[var(--shadow-lg)] cursor-pointer";case"lift":return"hover:shadow-[var(--shadow-md)] hover:-translate-y-1 cursor-pointer";case"glow":return"hover:shadow-[0_0_15px_rgba(var(--color-primary-rgb),0.5)] cursor-pointer";default:return"cursor-pointer"}})(),u=l?s.P.div:"div",m=l?{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3}}:{};return(0,a.jsx)(u,{className:`rounded-lg border transition-all duration-200 ${{default:"bg-[var(--color-card-bg)] border-[var(--color-border)] shadow-[var(--shadow-sm)]",primary:"bg-gradient-to-br from-[var(--color-primary)] to-[var(--color-primary-dark)] border-[var(--color-primary)] text-white",secondary:"bg-gradient-to-br from-[var(--color-secondary)] to-[var(--color-secondary-dark)] border-[var(--color-secondary)] text-white",accent:"bg-gradient-to-br from-[var(--color-accent)] to-[var(--color-accent-dark)] border-[var(--color-accent)] text-white",outline:"bg-transparent border-[var(--color-border)] shadow-none",ghost:"border-none shadow-none bg-transparent"}[o]} ${d} ${t}`,...m,...c,children:r})},i=e=>{let{className:t="",children:r,title:s,subtitle:o,icon:i,action:l,gradient:n=!1,...c}=e;const d=n?"gradient-text":"";return(0,a.jsxs)("div",{className:`flex items-center justify-between p-6 pb-3 ${t}`,...c,children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[i&&(0,a.jsx)("div",{className:"text-[var(--color-primary)]",children:i}),(0,a.jsxs)("div",{children:[s&&(0,a.jsx)("h3",{className:`text-lg font-semibold ${d}`,children:s}),o&&(0,a.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:o})]})]}),l&&(0,a.jsx)("div",{children:l}),r]})},l=e=>{let{className:t="",children:r,...s}=e;return(0,a.jsx)("div",{className:`p-6 pt-3 text-[var(--text-primary)] ${t}`,...s,children:r})}},2616:(e,t,r)=>{r.d(t,{p:()=>o});var s=r(9643),a=r(6507);const o=s.forwardRef(((e,t)=>{let{className:r="",type:s="text",...o}=e;return(0,a.jsx)("input",{type:s,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${r}`,ref:t,...o})}));o.displayName="Input"},1622:(e,t,r)=>{r.d(t,{l:()=>o});var s=r(9643),a=r(6507);const o=s.forwardRef(((e,t)=>{let{className:r="",children:o,...i}=e;return(0,s.useEffect)((()=>{const e="select-dropdown-styles";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent='\n        select {\n          color: var(--text-primary);\n          background-color: var(--color-card-bg);\n        }\n        \n        select option {\n          color: var(--text-primary);\n          background-color: var(--color-card-bg);\n        }\n        \n        /* For dark mode specifics */\n        [data-theme="dark"] select,\n        [data-theme="dark"] select option,\n        .dark select,\n        .dark select option {\n          background-color: var(--color-card-bg);\n          color: var(--text-primary);\n        }\n      ',document.head.appendChild(t)}return()=>{}}),[]),(0,a.jsx)("select",{className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${r}`,ref:t,...i,children:o})}));o.displayName="Select"},6681:(e,t,r)=>{r.d(t,{cn:()=>o});var s=r(569),a=r(8573);function o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},4513:(e,t,r)=>{r.d(t,{Eo:()=>l,R2:()=>a,ZR:()=>o,l1:()=>i,vS:()=>n});const s=r(3231).A.create({baseURL:"https://logistics-dashboard.onrender.com/api",timeout:3e4,headers:{"Content-Type":"application/json"}});s.interceptors.request.use((e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>(console.error("Request interceptor error:",e),Promise.reject(e)))),s.interceptors.response.use((e=>e.data),(e=>{if(e.response){var t;const{status:r,data:s}=e.response;return 401===r&&(localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.href="/login"),console.error(`API Error: ${r} - ${null===(t=e.config)||void 0===t?void 0:t.url}`),Promise.reject({status:r,message:(null===s||void 0===s?void 0:s.message)||"An error occurred",errors:(null===s||void 0===s?void 0:s.errors)||{},data:s})}return e.request?(console.error("API Error: No response received"),Promise.reject({status:0,message:"No response received from server",errors:{}})):(console.error("API Error: Request setup failed"),Promise.reject({status:0,message:e.message||"Request setup failed",errors:{}}))}));const a={login:e=>s.post("/auth/login",e).then((e=>(e.token&&(localStorage.setItem("authToken",e.token),e.user&&localStorage.setItem("user",JSON.stringify(e.user))),e))),register:e=>s.post("/auth/register",e),logout:()=>(localStorage.removeItem("authToken"),localStorage.removeItem("user"),s.post("/auth/logout")),getCurrentUser:()=>s.get("/auth/me"),isAuthenticated:()=>!!localStorage.getItem("authToken"),getStoredUser:()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null}},o={getAll:async e=>{try{const t=await s.get("/deliveries",{params:e});return Array.isArray(t)?{docs:t,totalDocs:t.length,totalPages:1,page:1}:t||{docs:[],totalDocs:0,totalPages:0,page:1}}catch(t){throw t}},getById:e=>s.get(`/deliveries/${e}`),create:async e=>{try{if(!localStorage.getItem("authToken"))throw new Error("Authentication required. Please log in.");return await s.post("/deliveries",e)}catch(t){throw console.error("Error in deliveryAPI.create"),t}},update:(e,t)=>s.put(`/deliveries/${e}`,t),delete:async e=>{try{if(!e)throw new Error("Delivery ID is required");return await s.delete(`/deliveries/${e}`)}catch(t){throw console.error(`Error deleting delivery: ${t.message}`),t}},updateStatus:(e,t)=>s.patch(`/deliveries/${e}/status`,{status:t}),assign:(e,t)=>s.patch(`/deliveries/${e}/assign`,{delivererId:t}),getAvailable:()=>s.get("/deliveries/available")},i={getAll:async e=>{try{return await s.get("/deliverers",{params:e})||[]}catch(t){throw t}},getById:e=>s.get(`/deliverers/${e}`),create:async e=>{try{if(!localStorage.getItem("authToken"))throw new Error("Authentication required. Please log in.");return await s.post("/deliverers",e)}catch(t){throw console.error("Error in delivererAPI.create"),t}},update:async(e,t)=>{try{return await s.put(`/deliverers/${e}`,t)}catch(r){throw console.error(`Error in delivererAPI.update for ID ${e}:`,r),r}},delete:e=>s.delete(`/deliverers/${e}`),getStats:(e,t)=>s.get(`/deliverers/${e}/stats`,{params:t}),updateStatus:(e,t)=>s.patch(`/deliverers/${e}/status`,{status:t}),assignDelivery:(e,t)=>s.patch(`/deliverers/${e}/assign`,{deliveryId:t}),getAvailableDeliveries:()=>s.get("/deliveries/available")},l={getAll:e=>s.get("/users",{params:e}),getProfile:async()=>{try{const t=localStorage.getItem("user");if(t){const r=JSON.parse(t);try{const e=await s.get("/users/profile");return localStorage.setItem("user",JSON.stringify(e)),e}catch(e){return r}}if(!localStorage.getItem("authToken"))throw new Error("Authentication required");const r=await s.get("/users/profile");return localStorage.setItem("user",JSON.stringify(r)),r}catch(t){throw console.warn("Error fetching user profile"),t}},getById:e=>s.get(`/users/${e}`),updateProfile:e=>s.put("/users/profile",e),updateRole:(e,t)=>s.put(`/users/${e}/role`,{role:t}),changePassword:e=>s.put("/users/change-password",e),deactivate:e=>s.put(`/users/${e}/deactivate`),delete:e=>s.delete(`/users/${e}`),create:e=>s.post("/users",e)},n={getStatus:async()=>{try{const e=await s.get("/jobs/status");if(!e)throw new Error("Empty response from jobs status API");return e}catch(e){return console.error("Error fetching jobs status"),{isRunning:!1,totalJobs:0,activeJobs:0,successRate:0,lastRun:null,jobs:[],systemHealth:{status:"unknown",issuesCount:0},recentRuns:[]}}},getHealth:async()=>{try{return await s.get("/jobs/health")}catch(e){throw console.error("Error in jobsAPI.getHealth:",e),e}},getPerformance:async()=>{try{return await s.get("/jobs/performance")}catch(e){throw console.error("Error in jobsAPI.getPerformance:",e),e}},getDashboard:async()=>{try{return await s.get("/jobs/dashboard")}catch(e){throw console.error("Error in jobsAPI.getDashboard:",e),e}},runJob:async e=>{try{return await s.post(`/jobs/run/${e}`)}catch(t){throw console.error(`Error in jobsAPI.runJob for job ${e}:`,t),t}},startJob:async e=>{try{return await s.post(`/jobs/run/${e}`)}catch(t){throw console.error(`Error in jobsAPI.startJob for job ${e}:`,t),t}},stopJob:async e=>{try{return await s.post(`/jobs/stop/${e}`)}catch(t){throw console.error(`Error in jobsAPI.stopJob for job ${e}:`,t),t}},startAllJobs:async()=>{try{return await s.post("/jobs/start")}catch(e){throw console.error("Error in jobsAPI.startAllJobs:",e),e}},stopAllJobs:async()=>{try{return await s.post("/jobs/stop")}catch(e){throw console.error("Error in jobsAPI.stopAllJobs:",e),e}}}},7967:(e,t,r)=>{r.d(t,{A:()=>s});const s=(0,r(541).A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},5295:(e,t,r)=>{r.d(t,{A:()=>s});const s=(0,r(541).A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},4447:(e,t,r)=>{r.d(t,{A:()=>s});const s=(0,r(541).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},5674:(e,t,r)=>{r.d(t,{A:()=>s});const s=(0,r(541).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},9927:(e,t,r)=>{r.d(t,{A:()=>s});const s=(0,r(541).A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},7135:(e,t,r)=>{r.d(t,{A:()=>s});const s=(0,r(541).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7333:(e,t,r)=>{r.d(t,{A:()=>s});const s=(0,r(541).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}}]);
//# sourceMappingURL=552.d0b24a36.chunk.js.map