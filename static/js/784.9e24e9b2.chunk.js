/*! For license information please see 784.9e24e9b2.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunklogistics_dashboard_frontend=self.webpackChunklogistics_dashboard_frontend||[]).push([[784],{3468:(e,s,a)=>{a.r(s),a.d(s,{default:()=>I});var t=a(9643),l=a(6207),r=a(7967),i=a(4289),c=a(7222),d=a(2244),n=a(541);const o=(0,n.A)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);var m=a(591);const x=(0,n.A)("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);var h=a(1382),u=a(9382),v=a(5114),p=a(6260),y=a(3964),g=a(5964),j=a(3016),f=a(9320),N=a(6677);const b=(0,n.A)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),k=(0,n.A)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var w=a(6870),A=a(529),C=a(3329),S=a(6424),D=a(923),z=a(4513),T=a(9180),$=a(9920),M=a(7701),R=a(6314),q=a(2616),P=a(1622),L=a(1868),E=a(6687),F=a(3172),B=a(6507);const _=[{_id:"del1",name:"John Smith",email:"john.smith@example.com",phone:"555-123-4567",status:"Available",vehicleType:"Car",licenseNumber:"DL12345678",address:{street:"123 Main St",city:"Anytown",state:"CA",zipCode:"90210",country:"USA"},rating:4.8,completedDeliveries:145,activeDeliveries:2},{_id:"del2",name:"Sarah Johnson",email:"sarah.j@example.com",phone:"555-987-6543",status:"Busy",vehicleType:"Motorcycle",licenseNumber:"DL87654321",address:{street:"456 Oak Ave",city:"Somewhere",state:"NY",zipCode:"10001",country:"USA"},rating:4.5,completedDeliveries:89,activeDeliveries:1},{_id:"del3",name:"Michael Brown",email:"michael.b@example.com",phone:"555-456-7890",status:"Available",vehicleType:"Van",licenseNumber:"DL45678901",address:{street:"789 Pine St",city:"Elsewhere",state:"TX",zipCode:"75001",country:"USA"},rating:4.9,completedDeliveries:213,activeDeliveries:0}],I=()=>{var e;const{t:s}=(0,l.Bd)(["deliverers","common"]),[a,n]=(0,t.useState)([]),[I,V]=(0,t.useState)(!0),[Z,O]=(0,t.useState)(null),[U,H]=(0,t.useState)(null),[W,J]=(0,t.useState)(!1),[X,Y]=(0,t.useState)(!1),[G,K]=(0,t.useState)(!1),[Q,ee]=(0,t.useState)("create"),[se,ae]=(0,t.useState)(!1),[te,le]=(0,t.useState)(!1),[re,ie]=(0,t.useState)([]),[ce,de]=(0,t.useState)(""),[ne,oe]=(0,t.useState)(!1),[me,xe]=(0,t.useState)(1),[he,ue]=(0,t.useState)(1),[ve,pe]=(0,t.useState)(0),[ye]=(0,t.useState)(10),[ge,je]=(0,t.useState)(""),[fe,Ne]=(0,t.useState)(""),[be,ke]=(0,t.useState)(""),[we,Ae]=(0,t.useState)(!1),[Ce,Se]=(0,t.useState)({name:"",email:"",phone:"",status:"Available",vehicleType:"",licenseNumber:"",address:{street:"",city:"",state:"",zipCode:"",country:"USA"},emergencyContact:{name:"",phone:"",relationship:""}}),[De,ze]=(0,t.useState)({name:!1,email:!1,phone:!1,vehicleType:!1,licenseNumber:!1}),[Te,$e]=(0,t.useState)(null),[Me,Re]=(0,t.useState)(!1),qe=(0,t.useCallback)((async()=>{try{V(!0);const e={page:me,limit:ye,...fe&&{status:fe},...be&&{vehicleType:be},...ge&&{search:ge}},s=await z.l1.getAll(e);s&&Array.isArray(s)?(n(s),ue(1),pe(s.length)):s&&s.docs?(n(s.docs),ue(s.totalPages||1),pe(s.totalDocs||0)):s&&(n(_),ue(1),pe(_.length)),O(null)}catch(e){console.error("Error fetching deliverers:",e),O("Failed to fetch deliverers"),D.oR.error("Failed to fetch deliverers. Using demo data instead."),n(_),ue(1),pe(_.length)}finally{V(!1)}}),[me,ye,fe,be,ge]),Pe=e=>{H(e),le(!0),(async()=>{try{oe(!0);const e=await z.l1.getAvailableDeliveries();ie(e||[])}catch(e){console.error("Error fetching available deliveries:",e),D.oR.error("Failed to fetch available deliveries"),ie([{_id:"del1",orderId:"ORD-12345",customer:"John Doe",deliveryAddress:"123 Main St"},{_id:"del2",orderId:"ORD-67890",customer:"Jane Smith",deliveryAddress:"456 Oak Ave"}])}finally{oe(!1)}})()};(0,t.useEffect)((()=>{qe(),Ee(),Le()}),[qe]);const Le=()=>{const e=localStorage.getItem("authToken");console.log("Auth token in localStorage:",e?`${e.substring(0,10)}...`:"Not found")},Ee=()=>{const e=localStorage.getItem("user");if(console.log("Checking user role. User data in localStorage:",e),e)try{var s;const a=JSON.parse(e);let t;console.log("Parsed user data:",a),"string"===typeof a.role?t=a.role.toLowerCase():"object"===typeof a.role&&null!==(s=a.role)&&void 0!==s&&s.name&&(t=a.role.name.toLowerCase()),console.log("User role determined to be:",t);const l="admin"===t||"administrator"===t||!0===a.isAdmin;console.log("Is admin?",l),ae(l)}catch(Z){console.error("Error parsing user data:",Z),ae(!1)}else console.warn("No user data found in localStorage"),ae(!1)},Fe=(e,s)=>{if(e.includes(".")){const[a,t]=e.split(".");Se((e=>({...e,[a]:{...e[a],[t]:s}})))}else if(Se((a=>({...a,[e]:s}))),"name"===e)ze((e=>({...e,name:!s.trim()||s.length<2})));else if("email"===e){const e=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;ze((a=>({...a,email:!s.trim()||!e.test(s)})))}else if("phone"===e)if(s){const e=/^[+]?[0-9\s\-()+]{7,}$/;ze((a=>({...a,phone:!e.test(s)})))}else ze((e=>({...e,phone:!1})));else"vehicleType"===e?ze((e=>({...e,vehicleType:!s}))):"licenseNumber"===e&&ze(s?e=>({...e,licenseNumber:s.length<3}):e=>({...e,licenseNumber:!1}))},Be=()=>{Se({name:"",email:"",phone:"",status:"Available",vehicleType:"",licenseNumber:"",address:{street:"",city:"",state:"",zipCode:"",country:"USA"},emergencyContact:{name:"",phone:"",relationship:""}}),ze({name:!1,email:!1,phone:!1,vehicleType:!1,licenseNumber:!1})},_e=async e=>{if(e.preventDefault(),!se)return D.oR.error("You need admin privileges to create or edit deliverers",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),void J(!1);const a=!Ce.name||Ce.name.length<2,t=!Ce.email||!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(Ce.email),l=!!Ce.phone&&!/^[+]?[0-9\s\-()+]{7,}$/.test(Ce.phone),r=!Ce.vehicleType,i=Ce.licenseNumber&&Ce.licenseNumber.length<3;if(ze({name:a,email:t,phone:l,vehicleType:r,licenseNumber:i}),a||t||l||r||i){let e=s("validation.pleaseCorrectErrors");return a&&(e+=`\n- ${s("validation.nameRequired")}`),t&&(e+=`\n- ${s("validation.emailInvalid")}`),l&&(e+=`\n- ${s("validation.phoneInvalid")}`),r&&(e+=`\n- ${s("validation.vehicleTypeRequired")}`),i&&(e+=`\n- ${s("validation.licenseInvalid")}`),void D.oR.error(e,{autoClose:5e3,style:{whiteSpace:"pre-line"}})}try{if(V(!0),"create"===Q){await z.l1.create(Ce);D.oR.success("Deliverer created successfully")}else{await z.l1.update(U._id,Ce);D.oR.success("Deliverer updated successfully")}J(!1),Be(),qe()}catch(c){console.error("Error saving deliverer:",c),c.data&&c.data.errors&&Array.isArray(c.data.errors)?c.data.errors.forEach((e=>{D.oR.error(`${e.field||"Validation error"}: ${e.message}`)})):c.data&&c.data.message?D.oR.error(c.data.message):c.message?D.oR.error(c.message):D.oR.error("Failed to save deliverer. Please check your form data.")}finally{V(!1)}},Ie=async e=>{H(e),K(!0),await(async e=>{try{Re(!0);const s=await z.l1.getStats(e);$e(s)}catch(s){console.error("Error fetching deliverer stats:",s),D.oR.error("Failed to fetch deliverer statistics"),$e({deliveriesCompleted:125,onTimeRate:96.8,averageRating:4.7,totalDistance:1876,averageDeliveryTime:28.5})}finally{Re(!1)}})(e._id)},Ve=()=>{Be(),ee("create"),J(!0)},Ze=e=>{switch(e){case"Car":return(0,B.jsx)(o,{size:16,className:"text-blue-600"});case"Van":return(0,B.jsx)(m.A,{size:16,className:"text-purple-600"});case"Truck":return(0,B.jsx)(m.A,{size:16,className:"text-red-600"});case"Motorcycle":return(0,B.jsx)(x,{size:16,className:"text-orange-600"});case"Bicycle":return(0,B.jsx)(x,{size:16,className:"text-green-600"});default:return(0,B.jsx)(o,{size:16,className:"text-muted-foreground"})}},Oe=e=>{let{status:a}=e;return(0,B.jsx)(E.E,{className:{Available:"bg-green-100 text-green-800",Busy:"bg-yellow-100 text-yellow-800",Offline:"bg-gray-100 text-gray-800"}[a]||"bg-gray-100 text-gray-800",children:s(`statuses.${a.toLowerCase()}`)})},Ue=a.filter((e=>"Available"===e.status)).length,He=a.filter((e=>"Busy"===e.status)).length,We=a.filter((e=>"Offline"===e.status)).length;return I&&0===a.length?(0,B.jsx)(T.A,{}):Z?(0,B.jsx)($.A,{message:Z,onRetry:qe}):(0,B.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-6",children:[(0,B.jsxs)("div",{className:"mb-8 flex flex-col gap-6 rounded-xl bg-card p-6 shadow md:flex-row md:items-start md:justify-between",children:[(0,B.jsxs)("div",{children:[(0,B.jsxs)("h1",{className:"flex items-center gap-2 text-2xl font-bold",children:[(0,B.jsx)(o,{className:"h-6 w-6 text-primary"}),s("title")]}),(0,B.jsx)("p",{className:"text-muted-foreground",children:s("subtitle")})]}),(0,B.jsxs)("div",{className:"flex gap-2",children:[(0,B.jsxs)(R.$,{variant:"outline",size:"sm",onClick:qe,disabled:I,className:"flex items-center gap-2",children:[(0,B.jsx)(h.A,{className:I?"h-4 w-4 animate-spin":"h-4 w-4"}),s("common:refresh")]}),se?(0,B.jsxs)(R.$,{onClick:()=>{Ve()},size:"sm",className:"flex items-center gap-2",children:[(0,B.jsx)(u.A,{className:"h-4 w-4"}),s("newDeliverer")]}):(0,B.jsxs)(R.$,{onClick:()=>{D.oR.error("You need admin privileges to create or edit deliverers",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},size:"sm",className:"flex items-center gap-2",children:[(0,B.jsx)(u.A,{className:"h-4 w-4"}),s("newDeliverer")]})]})]}),(0,B.jsxs)("div",{className:"mb-6 flex flex-col items-start justify-between gap-4 md:flex-row md:items-center",children:[(0,B.jsxs)("div",{className:"relative w-full md:max-w-md",children:[(0,B.jsx)(v.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,B.jsx)(q.p,{type:"text",placeholder:s("searchPlaceholder"),value:ge,onChange:e=>je(e.target.value),className:"pl-10"})]}),(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsxs)(R.$,{variant:we?"default":"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>Ae(!we),children:[(0,B.jsx)(p.A,{className:"h-4 w-4"}),s("filters",{ns:"common"})]}),(fe||be)&&(0,B.jsxs)(R.$,{variant:"destructive",size:"sm",className:"flex items-center gap-2",onClick:()=>{Ne(""),ke("")},children:[(0,B.jsx)(y.A,{className:"h-4 w-4"}),s("clear",{ns:"common"})]})]})]}),we&&(0,B.jsx)("div",{className:"mb-6 rounded-xl bg-card p-6 shadow",children:(0,B.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,B.jsxs)("div",{className:"space-y-2",children:[(0,B.jsx)("label",{className:"text-sm font-medium",children:s("status",{ns:"common"})}),(0,B.jsxs)(P.l,{value:fe,onChange:e=>Ne(e.target.value),className:"w-full",children:[(0,B.jsx)("option",{value:"",children:s("filters.allStatuses")}),(0,B.jsx)("option",{value:"Available",children:s("statuses.available")}),(0,B.jsx)("option",{value:"Busy",children:s("statuses.busy")}),(0,B.jsx)("option",{value:"Offline",children:s("statuses.offline")})]})]}),(0,B.jsxs)("div",{className:"space-y-2",children:[(0,B.jsx)("label",{className:"text-sm font-medium",children:s("vehicle")}),(0,B.jsxs)(P.l,{value:be,onChange:e=>ke(e.target.value),children:[(0,B.jsx)("option",{value:"",children:s("filters.allVehicles")}),(0,B.jsx)("option",{value:"Car",children:s("vehicles.car")}),(0,B.jsx)("option",{value:"Motorcycle",children:s("vehicles.motorcycle")}),(0,B.jsx)("option",{value:"Bicycle",children:s("vehicles.bicycle")}),(0,B.jsx)("option",{value:"Van",children:s("vehicles.van")}),(0,B.jsx)("option",{value:"Truck",children:s("vehicles.truck")})]})]})]})}),(0,B.jsxs)("div",{className:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,B.jsx)(L.Zp,{children:(0,B.jsxs)(L.Wu,{className:"flex flex-col items-center justify-center pt-6",children:[(0,B.jsx)("span",{className:"text-3xl font-bold",children:ve}),(0,B.jsx)("span",{className:"text-sm text-muted-foreground",children:s("totalDeliverers")})]})}),(0,B.jsx)(L.Zp,{children:(0,B.jsxs)(L.Wu,{className:"flex flex-col items-center justify-center pt-6",children:[(0,B.jsx)("span",{className:"text-3xl font-bold text-success",children:Ue}),(0,B.jsx)("span",{className:"text-sm text-muted-foreground",children:s("available")})]})}),(0,B.jsx)(L.Zp,{children:(0,B.jsxs)(L.Wu,{className:"flex flex-col items-center justify-center pt-6",children:[(0,B.jsx)("span",{className:"text-3xl font-bold text-status-in-transit",children:He}),(0,B.jsx)("span",{className:"text-sm text-muted-foreground",children:s("onDelivery")})]})}),(0,B.jsx)(L.Zp,{children:(0,B.jsxs)(L.Wu,{className:"flex flex-col items-center justify-center pt-6",children:[(0,B.jsx)("span",{className:"text-3xl font-bold text-muted-foreground",children:We}),(0,B.jsx)("span",{className:"text-sm text-muted-foreground",children:s("offline")})]})})]}),(0,B.jsxs)(L.Zp,{className:"mb-6 overflow-hidden",children:[(0,B.jsxs)(F.XI,{children:[(0,B.jsx)(F.A0,{children:(0,B.jsxs)(F.Hj,{className:"bg-muted/50",children:[(0,B.jsx)(F.nd,{children:s("columns.deliverer")}),(0,B.jsx)(F.nd,{children:s("columns.contact")}),(0,B.jsx)(F.nd,{children:s("columns.status")}),(0,B.jsx)(F.nd,{children:s("columns.vehicle")}),(0,B.jsx)(F.nd,{children:s("columns.license")}),(0,B.jsx)(F.nd,{children:s("columns.deliveries")}),(0,B.jsx)(F.nd,{className:"text-right",children:s("columns.actions")})]})}),(0,B.jsx)(F.BF,{children:a.map((e=>{var a,t;return(0,B.jsxs)(F.Hj,{children:[(0,B.jsx)(F.nA,{children:(0,B.jsxs)("div",{className:"flex flex-col",children:[(0,B.jsx)("span",{className:"font-medium",children:e.name}),(0,B.jsx)("span",{className:"text-xs text-muted-foreground",children:e.email})]})}),(0,B.jsx)(F.nA,{children:(0,B.jsxs)("div",{className:"flex flex-col",children:[e.phone&&(0,B.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,B.jsx)(g.A,{className:"h-3 w-3 text-muted-foreground"}),(0,B.jsx)("span",{children:e.phone})]}),(null===(a=e.address)||void 0===a?void 0:a.city)&&(0,B.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,B.jsx)(j.A,{className:"h-3 w-3 text-muted-foreground"}),(0,B.jsx)("span",{children:e.address.city})]})]})}),(0,B.jsx)(F.nA,{className:"whitespace-nowrap",children:(0,B.jsx)("div",{className:"flex items-center",children:(0,B.jsx)(Oe,{status:e.status})})}),(0,B.jsx)(F.nA,{children:(0,B.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[Ze(e.vehicleType),(0,B.jsx)("span",{children:e.vehicleType?s(`vehicles.${e.vehicleType.toLowerCase()}`):s("notSpecified")})]})}),(0,B.jsx)(F.nA,{children:(0,B.jsx)("span",{className:"text-sm",children:e.licenseNumber||s("notAvailable")})}),(0,B.jsx)(F.nA,{children:(0,B.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,B.jsx)(f.A,{className:"h-3 w-3 text-muted-foreground"}),(0,B.jsx)("span",{children:(null===(t=e.deliveries)||void 0===t?void 0:t.length)||0})]})}),(0,B.jsx)(F.nA,{children:(0,B.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,B.jsx)(R.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>(async e=>{H(e),Y(!0)})(e),title:s("actions.view",{ns:"common"}),children:(0,B.jsx)(N.A,{className:"h-4 w-4"})}),(0,B.jsx)(R.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>Ie(e),title:s("actions.viewStats",{ns:"common"}),children:(0,B.jsx)(b,{className:"h-4 w-4"})}),"Available"===e.status&&(0,B.jsx)(R.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-info hover:text-info/80",onClick:()=>Pe(e),title:s("actions.assign",{ns:"common"}),children:(0,B.jsx)(k,{className:"h-4 w-4"})}),se&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(R.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>(e=>{var s,a,t,l,r,i,c,d;H(e),Se({name:e.name||"",email:e.email||"",phone:e.phone||"",status:e.status||"Available",vehicleType:e.vehicleType||"",licenseNumber:e.licenseNumber||"",address:{street:(null===(s=e.address)||void 0===s?void 0:s.street)||"",city:(null===(a=e.address)||void 0===a?void 0:a.city)||"",state:(null===(t=e.address)||void 0===t?void 0:t.state)||"",zipCode:(null===(l=e.address)||void 0===l?void 0:l.zipCode)||"",country:(null===(r=e.address)||void 0===r?void 0:r.country)||"USA"},emergencyContact:{name:(null===(i=e.emergencyContact)||void 0===i?void 0:i.name)||"",phone:(null===(c=e.emergencyContact)||void 0===c?void 0:c.phone)||"",relationship:(null===(d=e.emergencyContact)||void 0===d?void 0:d.relationship)||""}}),ee("edit"),J(!0)})(e),title:s("actions.edit",{ns:"common"}),children:(0,B.jsx)(w.A,{className:"h-4 w-4"})}),(0,B.jsx)(R.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive hover:text-destructive/80",onClick:()=>(async e=>{if(window.confirm(s("confirmDelete")))try{await z.l1.delete(e),D.oR.success(s("deleteSuccess")),qe()}catch(a){console.error("Error deleting deliverer:",a),a.message&&a.message.includes("active deliveries")?D.oR.error(a.message,{autoClose:7e3,icon:()=>(0,B.jsx)(r.A,{className:"text-amber-500",size:24})}):D.oR.error(a.message||s("deleteError"))}})(e._id),title:s("actions.delete",{ns:"common"}),children:(0,B.jsx)(A.A,{className:"h-4 w-4"})})]})]})})]},e._id)}))})]}),0===a.length&&!I&&(0,B.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,B.jsx)(o,{className:"mb-4 h-12 w-12 text-muted-foreground"}),(0,B.jsx)("h3",{className:"mb-2 text-lg font-medium",children:s("noDeliverersFound")}),(0,B.jsx)("p",{className:"mb-4 text-sm text-muted-foreground",children:s("getStarted")}),se&&(0,B.jsxs)(R.$,{onClick:()=>{Ve()},className:"flex items-center gap-2",children:[(0,B.jsx)(u.A,{className:"h-4 w-4"}),s("newDeliverer")]})]})]}),he>1&&(0,B.jsxs)("div",{className:"mb-6 flex items-center justify-between py-4",children:[(0,B.jsxs)(R.$,{variant:"outline",size:"sm",onClick:()=>xe((e=>Math.max(e-1,1))),disabled:1===me,className:"flex items-center gap-1",children:[(0,B.jsx)(C.A,{className:"h-4 w-4"}),"Previous"]}),(0,B.jsx)("div",{className:"text-sm text-muted-foreground",children:s("pagination",{currentPage:me,totalPages:he,totalDocs:ve})}),(0,B.jsxs)(R.$,{variant:"outline",size:"sm",onClick:()=>xe((e=>Math.min(e+1,he))),disabled:me===he,className:"flex items-center gap-1",children:["Next",(0,B.jsx)(S.A,{className:"h-4 w-4"})]})]}),W&&(0,B.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:(0,B.jsxs)("div",{className:"max-h-[90vh] w-full max-w-3xl overflow-y-auto rounded-lg bg-white p-6 text-black shadow-xl dark:bg-gray-800 dark:text-white",children:[(0,B.jsxs)("div",{className:"mb-4 flex items-center justify-between border-b border-gray-200 pb-4 dark:border-gray-700",children:[(0,B.jsx)("h3",{className:"text-xl font-semibold",children:s("create"===Q?"addNewDeliverer":"editDeliverer")}),(0,B.jsx)("button",{className:"rounded-full p-1 hover:bg-muted",onClick:()=>J(!1),children:(0,B.jsx)(y.A,{size:24})})]}),(0,B.jsxs)("form",{onSubmit:e=>{_e(e)},className:"space-y-4",children:[(0,B.jsxs)("div",{className:"space-y-4",children:[(0,B.jsx)("h4",{className:"text-lg font-medium dark:text-gray-200",children:s("basicInfo")}),(0,B.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,B.jsxs)("div",{className:"space-y-2",children:[(0,B.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:s("name")}),(0,B.jsx)(q.p,{type:"text",value:Ce.name,onChange:e=>Fe("name",e.target.value),required:!0,className:"w-full dark:border-gray-700 dark:bg-gray-800 dark:text-white "+(De.name?"border-red-500":""),minLength:"2",title:s("validation.nameLength")}),De.name&&(0,B.jsx)("p",{className:"text-sm text-red-500",children:s("validation.nameRequired",{fallback:"Name is required and must be at least 2 characters"})}),(0,B.jsx)("small",{className:"text-xs text-muted-foreground",children:s("validation.required")})]}),(0,B.jsxs)("div",{className:"space-y-2",children:[(0,B.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:s("email")}),(0,B.jsx)(q.p,{type:"email",value:Ce.email,onChange:e=>Fe("email",e.target.value),required:!0,className:"w-full dark:border-gray-700 dark:bg-gray-800 dark:text-white "+(De.email?"border-red-500":""),pattern:"^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$",title:s("validation.invalidEmail"),placeholder:"deliverer@example.com"}),De.email&&(0,B.jsx)("p",{className:"text-sm text-red-500",children:s("validation.invalidEmail",{fallback:"Please enter a valid email address"})}),(0,B.jsx)("small",{className:"text-xs text-muted-foreground",children:s("validation.required")})]})]}),(0,B.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,B.jsxs)("div",{className:"space-y-2",children:[(0,B.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:s("phone")}),(0,B.jsx)(q.p,{type:"tel",value:Ce.phone,onChange:e=>Fe("phone",e.target.value),className:"w-full dark:border-gray-700 dark:bg-gray-800 dark:text-white "+(De.phone?"border-red-500":""),pattern:"^[+]?[0-9\\s\\-()+]{7,}$",title:s("validation.invalidPhone"),placeholder:"+1 (555) 123-4567"}),De.phone&&(0,B.jsx)("p",{className:"text-sm text-red-500",children:s("validation.invalidPhone",{fallback:"Please enter a valid phone number"})}),(0,B.jsx)("small",{className:"text-xs text-muted-foreground",children:s("validation.phoneFormat")})]}),(0,B.jsxs)("div",{className:"space-y-2",children:[(0,B.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:s("status")}),(0,B.jsxs)(P.l,{value:Ce.status,onChange:e=>Fe("status",e.target.value),required:!0,className:"w-full dark:border-gray-700 dark:bg-gray-800 dark:text-white",children:[(0,B.jsx)("option",{value:"Available",children:s("statuses.available")}),(0,B.jsx)("option",{value:"Busy",children:s("statuses.busy")}),(0,B.jsx)("option",{value:"Offline",children:s("statuses.offline")})]})]})]})]}),(0,B.jsxs)("div",{className:"space-y-4",children:[(0,B.jsx)("h4",{className:"text-lg font-medium dark:text-gray-200",children:s("vehicleInfo")}),(0,B.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,B.jsxs)("div",{className:"space-y-2",children:[(0,B.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:s("vehicleType")}),(0,B.jsxs)(P.l,{value:Ce.vehicleType,onChange:e=>Fe("vehicleType",e.target.value),className:"w-full dark:border-gray-700 dark:bg-gray-800 dark:text-white "+(De.vehicleType?"border-red-500":""),required:!0,children:[(0,B.jsx)("option",{value:"",children:s("selectVehicleType")}),(0,B.jsx)("option",{value:"Car",children:s("vehicles.car")}),(0,B.jsx)("option",{value:"Motorcycle",children:s("vehicles.motorcycle")}),(0,B.jsx)("option",{value:"Van",children:s("vehicles.van")}),(0,B.jsx)("option",{value:"Truck",children:s("vehicles.truck")}),(0,B.jsx)("option",{value:"Bicycle",children:s("vehicles.bicycle")})]}),De.vehicleType&&(0,B.jsx)("p",{className:"text-sm text-red-500",children:s("validation.vehicleTypeRequired",{fallback:"Please select a vehicle type"})}),(0,B.jsx)("small",{className:"text-xs text-muted-foreground",children:s("validation.required")})]}),(0,B.jsxs)("div",{className:"space-y-2",children:[(0,B.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:s("licenseNumber")}),(0,B.jsx)(q.p,{type:"text",value:Ce.licenseNumber,onChange:e=>Fe("licenseNumber",e.target.value),className:"w-full dark:border-gray-700 dark:bg-gray-800 dark:text-white "+(De.licenseNumber?"border-red-500":""),pattern:"^[A-Za-z0-9-]{5,}$",title:s("validation.invalidLicenseNumber"),placeholder:"DL12345678"}),De.licenseNumber&&(0,B.jsx)("p",{className:"text-sm text-red-500",children:s("validation.invalidLicenseNumber",{fallback:"License number should be at least 3 characters"})}),(0,B.jsx)("small",{className:"text-xs text-muted-foreground",children:s("validation.licenseFormat")})]})]})]}),(0,B.jsxs)("div",{className:"space-y-4",children:[(0,B.jsx)("h4",{className:"text-lg font-medium dark:text-gray-200",children:s("address")}),(0,B.jsxs)("div",{className:"space-y-2",children:[(0,B.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:s("address")}),(0,B.jsx)(M.A,{value:Ce.address.street,onChange:e=>Fe("address.street",e),onSelect:e=>{Fe("address.street",e.formattedAddress),Fe("address.city",e.city||""),Fe("address.state",e.state||""),Fe("address.zipCode",e.postcode||"")},placeholder:s("enterAddress"),disabled:!1}),(0,B.jsx)("small",{className:"text-xs text-muted-foreground",children:s("startTypingForSuggestions")})]}),(0,B.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,B.jsxs)("div",{className:"space-y-2",children:[(0,B.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:s("city")}),(0,B.jsx)(q.p,{type:"text",value:Ce.address.city,onChange:e=>Fe("address.city",e.target.value),className:"w-full dark:border-gray-700 dark:bg-gray-800 dark:text-white"})]}),(0,B.jsxs)("div",{className:"space-y-2",children:[(0,B.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:s("state")}),(0,B.jsx)(q.p,{type:"text",value:Ce.address.state,onChange:e=>Fe("address.state",e.target.value),className:"w-full dark:border-gray-700 dark:bg-gray-800 dark:text-white"})]}),(0,B.jsxs)("div",{className:"space-y-2",children:[(0,B.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:s("zipCode")}),(0,B.jsx)(q.p,{type:"text",value:Ce.address.zipCode,onChange:e=>Fe("address.zipCode",e.target.value),className:"w-full dark:border-gray-700 dark:bg-gray-800 dark:text-white"})]})]})]}),(0,B.jsxs)("div",{className:"space-y-4",children:[(0,B.jsx)("h4",{className:"text-lg font-medium dark:text-gray-200",children:s("emergencyContact")}),(0,B.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,B.jsxs)("div",{className:"space-y-2",children:[(0,B.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:s("name")}),(0,B.jsx)(q.p,{type:"text",value:Ce.emergencyContact.name,onChange:e=>Fe("emergencyContact.name",e.target.value),className:"w-full dark:border-gray-700 dark:bg-gray-800 dark:text-white"})]}),(0,B.jsxs)("div",{className:"space-y-2",children:[(0,B.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:s("phone")}),(0,B.jsx)(q.p,{type:"tel",value:Ce.emergencyContact.phone,onChange:e=>Fe("emergencyContact.phone",e.target.value),className:"w-full dark:border-gray-700 dark:bg-gray-800 dark:text-white",pattern:"^[+]?[0-9\\s\\-()+]{7,}$",title:s("validation.invalidPhone"),placeholder:"+1 (555) 123-4567"}),(0,B.jsx)("small",{className:"text-xs text-muted-foreground",children:s("validation.phoneFormat")})]}),(0,B.jsxs)("div",{className:"space-y-2",children:[(0,B.jsx)("label",{className:"text-sm font-medium dark:text-gray-200",children:s("relationship")}),(0,B.jsx)(q.p,{type:"text",value:Ce.emergencyContact.relationship,onChange:e=>Fe("emergencyContact.relationship",e.target.value),placeholder:s("emergencyRelationshipPlaceholder"),className:"w-full dark:border-gray-700 dark:bg-gray-800 dark:text-white"})]})]})]}),(0,B.jsxs)("div",{className:"flex justify-end gap-2 border-t border-gray-200 pt-4 dark:border-gray-700",children:[(0,B.jsx)(R.$,{type:"button",variant:"outline",onClick:()=>J(!1),children:s("cancel")}),(0,B.jsx)(R.$,{type:"submit",disabled:I,onClick:e=>{I||(e.preventDefault(),_e(e))},children:I?(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"create"===Q?"Creating...":"Updating..."]}):s("create"===Q?"createDeliverer":"updateDeliverer")})]})]})]})}),X&&U&&(0,B.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:(0,B.jsxs)("div",{className:"max-h-[90vh] w-full max-w-3xl overflow-y-auto rounded-lg bg-white p-6 text-black shadow-xl dark:bg-gray-800 dark:text-white",children:[(0,B.jsxs)("div",{className:"mb-4 flex items-center justify-between border-b border-gray-200 pb-4 dark:border-gray-700",children:[(0,B.jsx)("h3",{className:"text-xl font-semibold",children:s("delivererDetails")}),(0,B.jsx)("button",{className:"rounded-full p-1 hover:bg-muted",onClick:()=>Y(!1),children:(0,B.jsx)(y.A,{size:24})})]}),(0,B.jsxs)("div",{className:"space-y-6",children:[(0,B.jsxs)("div",{className:"space-y-3",children:[(0,B.jsx)("h4",{className:"text-lg font-medium",children:s("basicInfo")}),(0,B.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,B.jsxs)("div",{className:"space-y-1",children:[(0,B.jsx)("label",{className:"text-sm text-gray-500",children:s("name")}),(0,B.jsx)("p",{className:"font-medium",children:U.name})]}),(0,B.jsxs)("div",{className:"space-y-1",children:[(0,B.jsx)("label",{className:"text-sm text-gray-500",children:s("email")}),(0,B.jsx)("p",{className:"font-medium",children:U.email})]}),(0,B.jsxs)("div",{className:"space-y-1",children:[(0,B.jsx)("label",{className:"text-sm text-gray-500",children:s("phone")}),(0,B.jsx)("p",{className:"font-medium",children:U.phone||s("notProvided")})]}),(0,B.jsxs)("div",{className:"space-y-1",children:[(0,B.jsx)("label",{className:"text-sm text-gray-500",children:s("status")}),(0,B.jsxs)("div",{className:"flex items-center gap-1",children:[(e=>{switch(e){case"Available":return(0,B.jsx)(i.A,{className:"h-4 w-4"});case"Busy":return(0,B.jsx)(c.A,{className:"h-4 w-4"});case"Offline":return(0,B.jsx)(d.A,{className:"h-4 w-4"});default:return(0,B.jsx)(r.A,{className:"h-4 w-4"})}})(U.status),(0,B.jsx)(Oe,{status:U.status})]})]})]})]}),(0,B.jsxs)("div",{className:"space-y-3",children:[(0,B.jsx)("h4",{className:"text-lg font-medium",children:s("vehicleInfo")}),(0,B.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,B.jsxs)("div",{className:"space-y-1",children:[(0,B.jsx)("label",{className:"text-sm text-gray-500",children:s("vehicleType")}),(0,B.jsx)("p",{className:"font-medium",children:U.vehicleType?s(`vehicles.${U.vehicleType.toLowerCase()}`):s("notSpecified")})]}),(0,B.jsxs)("div",{className:"space-y-1",children:[(0,B.jsx)("label",{className:"text-sm text-gray-500",children:s("licenseNumber")}),(0,B.jsx)("p",{className:"font-medium",children:U.licenseNumber||s("notProvided")})]})]})]}),U.address&&(0,B.jsxs)("div",{className:"space-y-3",children:[(0,B.jsx)("h4",{className:"text-lg font-medium",children:s("address")}),(0,B.jsxs)("div",{className:"space-y-1",children:[U.address.street&&(0,B.jsx)("p",{className:"font-medium",children:U.address.street}),(0,B.jsx)("p",{className:"font-medium",children:[U.address.city,U.address.state,U.address.zipCode].filter(Boolean).join(", ")})]})]}),U.emergencyContact&&(0,B.jsxs)("div",{className:"space-y-3",children:[(0,B.jsx)("h4",{className:"text-lg font-medium",children:s("emergencyContact")}),(0,B.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,B.jsxs)("div",{className:"space-y-1",children:[(0,B.jsx)("label",{className:"text-sm text-gray-500",children:s("name")}),(0,B.jsx)("p",{className:"font-medium",children:U.emergencyContact.name||s("notProvided")})]}),(0,B.jsxs)("div",{className:"space-y-1",children:[(0,B.jsx)("label",{className:"text-sm text-gray-500",children:s("phone")}),(0,B.jsx)("p",{className:"font-medium",children:U.emergencyContact.phone||s("notProvided")})]}),(0,B.jsxs)("div",{className:"space-y-1",children:[(0,B.jsx)("label",{className:"text-sm text-gray-500",children:s("relationship")}),(0,B.jsx)("p",{className:"font-medium",children:U.emergencyContact.relationship||s("notProvided")})]})]})]}),(0,B.jsxs)("div",{className:"space-y-3",children:[(0,B.jsx)("h4",{className:"text-lg font-medium",children:s("activity")}),(0,B.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,B.jsxs)("div",{className:"space-y-1",children:[(0,B.jsx)("label",{className:"text-sm text-gray-500",children:s("totalDeliveries")}),(0,B.jsx)("p",{className:"font-medium",children:(null===(e=U.deliveries)||void 0===e?void 0:e.length)||0})]}),(0,B.jsxs)("div",{className:"space-y-1",children:[(0,B.jsx)("label",{className:"text-sm text-gray-500",children:s("memberSince")}),(0,B.jsx)("p",{className:"font-medium",children:new Date(U.createdAt).toLocaleDateString()})]})]})]}),(0,B.jsx)("div",{className:"flex justify-end space-x-3 border-t border-gray-200 pt-4 dark:border-gray-700",children:(0,B.jsx)(R.$,{onClick:()=>Y(!1),children:s("close")})})]})]})}),G&&U&&(0,B.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:(0,B.jsxs)("div",{className:"max-h-[90vh] w-full max-w-3xl overflow-y-auto rounded-lg bg-white p-6 text-black shadow-xl dark:bg-gray-800 dark:text-white",children:[(0,B.jsxs)("div",{className:"mb-4 flex items-center justify-between border-b border-gray-200 pb-4 dark:border-gray-700",children:[(0,B.jsx)("h3",{className:"text-xl font-semibold",children:s("performanceStats",{name:U.name})}),(0,B.jsx)("button",{className:"rounded-full p-1 hover:bg-muted",onClick:()=>K(!1),children:(0,B.jsx)(y.A,{size:24})})]}),(0,B.jsxs)("div",{className:"space-y-6",children:[Me?(0,B.jsx)("div",{className:"flex justify-center py-8",children:(0,B.jsx)(T.A,{})}):Te?(0,B.jsxs)("div",{className:"space-y-8",children:[(0,B.jsxs)("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[(0,B.jsx)(L.Zp,{children:(0,B.jsxs)(L.Wu,{className:"flex flex-col items-center justify-center pt-6",children:[(0,B.jsx)("span",{className:"text-3xl font-bold",children:Te.totalDeliveries}),(0,B.jsx)("span",{className:"text-sm text-muted-foreground",children:s("totalDeliveries")})]})}),(0,B.jsx)(L.Zp,{children:(0,B.jsxs)(L.Wu,{className:"flex flex-col items-center justify-center pt-6",children:[(0,B.jsx)("span",{className:"text-3xl font-bold text-success",children:Te.delivered}),(0,B.jsx)("span",{className:"text-sm text-muted-foreground",children:s("completed")})]})}),(0,B.jsx)(L.Zp,{children:(0,B.jsxs)(L.Wu,{className:"flex flex-col items-center justify-center pt-6",children:[(0,B.jsx)("span",{className:"text-3xl font-bold text-status-pending",children:Te.pending}),(0,B.jsx)("span",{className:"text-sm text-muted-foreground",children:s("pending")})]})}),(0,B.jsx)(L.Zp,{children:(0,B.jsxs)(L.Wu,{className:"flex flex-col items-center justify-center pt-6",children:[(0,B.jsx)("span",{className:"text-3xl font-bold text-status-in-transit",children:Te.inTransit}),(0,B.jsx)("span",{className:"text-sm text-muted-foreground",children:s("inTransit")})]})})]}),(0,B.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,B.jsxs)("div",{className:"space-y-2 rounded-lg border p-4",children:[(0,B.jsx)("h4",{className:"font-medium",children:s("successRate")}),(0,B.jsx)("p",{className:"text-2xl font-bold",children:Te.totalDeliveries>0?`${(Te.delivered/Te.totalDeliveries*100).toFixed(1)}%`:s("na")})]}),(0,B.jsxs)("div",{className:"space-y-2 rounded-lg border p-4",children:[(0,B.jsx)("h4",{className:"font-medium",children:s("averageDeliveryTime")}),(0,B.jsx)("p",{className:"text-2xl font-bold",children:Te.avgDeliveryTime?`${Te.avgDeliveryTime.toFixed(1)} ${s("days")}`:s("na")})]})]})]}):(0,B.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,B.jsx)(b,{size:48,className:"mb-4 text-muted-foreground"}),(0,B.jsx)("p",{className:"text-lg font-medium",children:s("noStatsAvailable")}),(0,B.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:s("statsWillAppearHere")})]}),(0,B.jsx)("div",{className:"flex justify-end space-x-3 border-t border-gray-200 pt-4 dark:border-gray-700",children:(0,B.jsx)(R.$,{onClick:()=>K(!1),children:s("close")})})]})]})}),te&&(0,B.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:(0,B.jsxs)("div",{className:"max-h-[90vh] w-full max-w-2xl overflow-y-auto rounded-lg bg-white p-6 text-black shadow-xl dark:bg-gray-800 dark:text-white",children:[(0,B.jsxs)("div",{className:"mb-4 flex items-center justify-between border-b border-gray-200 pb-4 dark:border-gray-700",children:[(0,B.jsx)("h3",{className:"text-xl font-semibold",children:s("assignDeliveryTo",{name:null===U||void 0===U?void 0:U.name})}),(0,B.jsx)("button",{className:"rounded-full p-1 hover:bg-muted",onClick:()=>le(!1),children:(0,B.jsx)(y.A,{size:24})})]}),(0,B.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),ce)try{await z.l1.assignDelivery(U._id,ce),D.oR.success("Delivery assigned successfully"),le(!1),de(""),qe()}catch(t){var s,a;console.error("Error assigning delivery:",t),D.oR.error((null===(s=t.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to assign delivery")}else D.oR.error("Please select a delivery to assign")},className:"space-y-6",children:[(0,B.jsxs)("div",{className:"space-y-4",children:[(0,B.jsx)("h4",{className:"text-lg font-medium dark:text-gray-200",children:s("selectDelivery")}),ne?(0,B.jsx)("div",{className:"flex justify-center py-4",children:(0,B.jsx)(T.A,{})}):0===re.length?(0,B.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,B.jsx)(f.A,{size:32,className:"mb-2 text-muted-foreground"}),(0,B.jsx)("p",{className:"text-lg font-medium",children:s("noAvailableDeliveriesFound")}),(0,B.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:s("createDeliveryFirst")})]}):(0,B.jsxs)("div",{className:"space-y-2",children:[(0,B.jsx)("label",{htmlFor:"deliverySelect",className:"text-sm font-medium dark:text-gray-200",children:s("availableDeliveries")}),(0,B.jsxs)(P.l,{id:"deliverySelect",value:ce,onChange:e=>de(e.target.value),required:!0,className:"w-full",children:[(0,B.jsx)("option",{value:"",children:s("selectDelivery")}),re.map((e=>(0,B.jsxs)("option",{value:e._id,children:[e.orderId||e._id," -"," ",e.deliveryAddress]},e._id)))]})]})]}),(0,B.jsxs)("div",{className:"flex justify-end space-x-3 border-t border-gray-200 pt-4 dark:border-gray-700",children:[(0,B.jsx)(R.$,{type:"button",variant:"outline",onClick:()=>le(!1),children:s("cancel")}),(0,B.jsx)(R.$,{type:"submit",disabled:!ce||ne,children:s("assignDelivery")})]})]})]})})]})}},7701:(e,s,a)=>{a.d(s,{A:()=>n});var t=a(9643),l=a(2616),r=a(7142),i=a(2732),c=a(3016),d=a(6507);const n=e=>{let{value:s,onChange:a,onSelect:n,placeholder:o="Enter an address",className:m="",inputClassName:x="",disabled:h=!1,required:u=!1,...v}=e;const[p,y]=(0,t.useState)([]),[g,j]=(0,t.useState)(!1),[f,N]=(0,t.useState)(!1),[b,k]=(0,t.useState)(!1),w=(0,t.useRef)(null),A=(0,t.useRef)(null),C=(0,t.useRef)(null);(0,t.useEffect)((()=>{function e(e){A.current&&!A.current.contains(e.target)&&y([])}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);return(0,d.jsxs)("div",{className:`relative ${m}`,...v,children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(l.p,{ref:w,type:"text",value:s||"",onChange:e=>{const s=e.target.value;a&&a(s),C.current&&clearTimeout(C.current),s.length>=3?(j(!0),C.current=setTimeout((()=>{(async e=>{if(e&&!(e.length<3)){j(!0);try{const s=`https://api.geoapify.com/v1/geocode/autocomplete?text=${encodeURIComponent(e)}&apiKey=6d177e3213d4451d87c9e1561ee3b8d3&format=json&limit=5`,a=await fetch(s);if(!a.ok)throw new Error(`Geoapify API error: ${a.status}`);const t=await a.json();if(t&&t.results){const e=t.results.map((e=>({formattedAddress:e.formatted,lat:e.lat,lon:e.lon,country:e.country,state:e.state,city:e.city,street:e.street,houseNumber:e.housenumber,postcode:e.postcode,raw:e})));y(e)}else y([])}catch(s){console.error("Error fetching address suggestions:",s),k(!0),y([])}finally{j(!1)}}})(s)}),300)):(y([]),j(!1))},placeholder:b?"Enter address manually":o,className:`pl-10 ${x}`,disabled:h,required:u,onFocus:()=>N(!0),onBlur:()=>setTimeout((()=>N(!1)),200)}),(0,d.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:g?(0,d.jsx)(r.A,{className:"h-4 w-4 animate-spin text-muted-foreground"}):b?(0,d.jsx)(i.A,{className:"h-4 w-4 text-amber-500"}):(0,d.jsx)(c.A,{className:"h-4 w-4 text-muted-foreground"})})]}),b&&(0,d.jsx)("div",{className:"mt-1 text-xs text-amber-500",children:"Address autocomplete unavailable. Please enter address manually."}),f&&p.length>0&&(0,d.jsx)("div",{ref:A,className:"absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-md border bg-white py-1 shadow-lg dark:bg-gray-800 dark:text-white dark:border-gray-700",children:p.map(((e,s)=>(0,d.jsxs)("div",{className:"cursor-pointer px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>(e=>{a&&a(e.formattedAddress),n&&n(e),y([])})(e),children:[(0,d.jsx)("div",{className:"font-medium",children:e.formattedAddress}),e.city&&e.country&&(0,d.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.city,e.state,e.country].filter(Boolean).join(", ")})]},s)))})]})}},2732:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7967:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},4289:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3329:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},6424:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},7222:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6677:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6260:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},7142:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3016:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},9320:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},6870:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]])},5964:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9382:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3877:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},5114:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},529:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},591:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]])},2244:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},3964:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(541).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}}]);
//# sourceMappingURL=784.9e24e9b2.chunk.js.map