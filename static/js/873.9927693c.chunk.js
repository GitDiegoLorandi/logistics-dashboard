/*! For license information please see 873.9927693c.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunklogistics_dashboard_frontend=self.webpackChunklogistics_dashboard_frontend||[]).push([[873],{2873:(e,r,t)=>{t.r(r),t.d(r,{default:()=>$});var s=t(9643),a=t(541);const o=(0,a.A)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);var l=t(5295);const n=(0,a.A)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);var c=t(7967),i=t(4447);const d=(0,a.A)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var h=t(1382);const u=(0,a.A)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),m=(0,a.A)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),g=(0,a.A)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);var p=t(4289),x=t(7222),v=t(7135),b=t(4513),y=t(923),j=t(6207),f=t(6314),w=t(1868),N=t(6687),A=t(6507);const k=e=>{let{className:r="",children:t,cols:s=1,gap:a=4,...o}=e;return(0,A.jsx)("div",{className:`grid ${(()=>{const e={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4",6:"grid-cols-1 md:grid-cols-3 lg:grid-cols-6",12:"grid-cols-1 md:grid-cols-4 lg:grid-cols-12"};return e[s]||e[1]})()} gap-${a} ${r}`,...o,children:t})},S=e=>{let{className:r="",children:t,span:s=1,...a}=e;return(0,A.jsx)("div",{className:`col-span-${s} ${r}`,...a,children:t})},$=()=>{const{t:e}=(0,j.Bd)(["jobs","common"]),[r,t]=(0,s.useState)(!0),[a,$]=(0,s.useState)(null),[E,I]=(0,s.useState)(!1),[R,J]=(0,s.useState)(null),D={healthCheck:{title:e("healthCheck"),description:e("healthCheckDescription"),icon:o,color:"green"},notifications:{title:e("notifications"),description:e("notificationsDescription"),icon:l.A,color:"blue"},performanceMonitoring:{title:e("performanceMonitoring"),description:e("performanceMonitoringDescription"),icon:n,color:"purple"},overdueDeliveries:{title:e("overdueDeliveries"),description:e("overdueDeliveriesDescription"),icon:c.A,color:"orange"},dataCleanup:{title:e("dataCleanup"),description:e("dataCleanupDescription"),icon:i.A,color:"red"}},P=(0,s.useCallback)((async()=>{try{t(!0),console.log("Fetching job status data...");const e=localStorage.getItem("authToken");console.log("Auth token exists:",!!e);const r=await b.vS.getStatus();console.log("Job status API response:",r),$(r)}catch(r){console.error("Error fetching job status:",r),console.error("Error details:",{message:r.message,status:r.status,data:r.data}),y.oR.error(e("errorFetchingStatus"))}finally{t(!1)}}),[e]);(0,s.useEffect)((()=>{P()}),[P]);const C=(null===a||void 0===a?void 0:a.isRunning)||!1,T=(null===a||void 0===a?void 0:a.activeJobs)||0,q=(null===a||void 0===a?void 0:a.totalJobs)||0,M=(null===a||void 0===a?void 0:a.successRate)||0,z=(null===a||void 0===a?void 0:a.lastRun)||null,L=(null===a||void 0===a?void 0:a.jobs)||[],H=(null===a||void 0===a?void 0:a.systemHealth)||{status:"unknown",issuesCount:0},Z=(null===a||void 0===a?void 0:a.recentRuns)||[];return r?(0,A.jsx)("div",{className:"mx-auto flex min-h-[50vh] max-w-7xl items-center justify-center px-4 py-6",children:(0,A.jsxs)("div",{className:"text-center",children:[(0,A.jsx)("div",{className:"mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-4 border-primary border-t-transparent"}),(0,A.jsx)("p",{className:"text-muted-foreground",children:e("common:loading")})]})}):(0,A.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-6",children:[(0,A.jsxs)("div",{className:"mb-8 flex flex-col gap-6 rounded-xl bg-card p-6 shadow md:flex-row md:items-start md:justify-between",children:[(0,A.jsxs)("div",{children:[(0,A.jsxs)("h1",{className:"flex items-center gap-2 text-2xl font-bold",children:[(0,A.jsx)(d,{className:"h-6 w-6 text-primary"}),e("title")]}),(0,A.jsx)("p",{className:"text-muted-foreground",children:e("subtitle")})]}),(0,A.jsxs)("div",{className:"flex gap-2",children:[(0,A.jsxs)(f.$,{variant:"outline",size:"sm",onClick:async()=>{I(!0),await P(),I(!1),y.oR.success(e("dataRefreshed"))},disabled:E,className:"flex items-center gap-2",children:[(0,A.jsx)(h.A,{className:E?"h-4 w-4 animate-spin":"h-4 w-4"}),e(E?"common:loading":"common:refresh")]}),(0,A.jsxs)(f.$,{variant:"default",size:"sm",onClick:async()=>{try{J("all"),await b.vS.startAllJobs(),y.oR.success(e("allJobsStarted")),P()}catch(r){console.error("Error starting all jobs:",r),y.oR.error(e("errorStartingAllJobs"))}finally{J(null)}},disabled:C,className:"flex items-center gap-2",children:[(0,A.jsx)(u,{className:"h-4 w-4"}),e("startAll")]}),(0,A.jsxs)(f.$,{variant:"destructive",size:"sm",onClick:async()=>{try{J("all"),await b.vS.stopAllJobs(),y.oR.success(e("allJobsStopped")),P()}catch(r){console.error("Error stopping all jobs:",r),y.oR.error(e("errorStoppingAllJobs"))}finally{J(null)}},disabled:!C,className:"flex items-center gap-2",children:[(0,A.jsx)(m,{className:"h-4 w-4"}),e("stopAll")]})]})]}),(0,A.jsxs)(k,{className:"mb-8 gap-6",children:[(0,A.jsx)(S,{colSpan:"col-span-12 sm:col-span-6 lg:col-span-3",children:(0,A.jsx)(w.Zp,{children:(0,A.jsxs)(w.Wu,{className:"pt-6",children:[(0,A.jsxs)("div",{className:"mb-4 flex items-start justify-between",children:[(0,A.jsx)("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-2 text-blue-700",children:(0,A.jsx)(g,{className:"h-5 w-5"})}),(0,A.jsx)(N.E,{variant:C?"success":"destructive",className:"text-xs",children:e(C?"systemActive":"systemInactive")})]}),(0,A.jsxs)("h3",{className:"text-3xl font-bold",children:[T||0,"/",q||0]}),(0,A.jsx)("p",{className:"text-sm text-muted-foreground",children:e("activeJobs")})]})})}),(0,A.jsx)(S,{colSpan:"col-span-12 sm:col-span-6 lg:col-span-3",children:(0,A.jsx)(w.Zp,{children:(0,A.jsxs)(w.Wu,{className:"pt-6",children:[(0,A.jsxs)("div",{className:"mb-4 flex items-start justify-between",children:[(0,A.jsx)("div",{className:"rounded-lg border border-green-200 bg-green-50 p-2 text-green-700",children:(0,A.jsx)(p.A,{className:"h-5 w-5"})}),(0,A.jsx)(N.E,{variant:"outline",className:"text-xs",children:e("lastRun")})]}),(0,A.jsxs)("h3",{className:"text-3xl font-bold",children:[M||0,"%"]}),(0,A.jsx)("p",{className:"text-sm text-muted-foreground",children:e("successRate")})]})})}),(0,A.jsx)(S,{colSpan:"col-span-12 sm:col-span-6 lg:col-span-3",children:(0,A.jsx)(w.Zp,{children:(0,A.jsxs)(w.Wu,{className:"pt-6",children:[(0,A.jsxs)("div",{className:"mb-4 flex items-start justify-between",children:[(0,A.jsx)("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-2 text-amber-700",children:(0,A.jsx)(x.A,{className:"h-5 w-5"})}),(0,A.jsx)(N.E,{variant:"outline",className:"text-xs",children:e("lastExecution")})]}),(0,A.jsx)("h3",{className:"text-3xl font-bold",children:z?new Date(z).toLocaleTimeString():"--:--"}),(0,A.jsx)("p",{className:"text-sm text-muted-foreground",children:z?new Date(z).toLocaleDateString():e("never")})]})})}),(0,A.jsx)(S,{colSpan:"col-span-12 sm:col-span-6 lg:col-span-3",children:(0,A.jsx)(w.Zp,{children:(0,A.jsxs)(w.Wu,{className:"pt-6",children:[(0,A.jsxs)("div",{className:"mb-4 flex items-start justify-between",children:[(0,A.jsx)("div",{className:"rounded-lg border border-red-200 bg-red-50 p-2 text-red-700",children:(0,A.jsx)(c.A,{className:"h-5 w-5"})}),(0,A.jsx)(N.E,{variant:"healthy"===(null===H||void 0===H?void 0:H.status)?"success":"warning"===(null===H||void 0===H?void 0:H.status)?"warning":"destructive",className:"text-xs",children:"healthy"===(null===H||void 0===H?void 0:H.status)?e("healthy"):"warning"===(null===H||void 0===H?void 0:H.status)?e("warning"):e("critical")})]}),(0,A.jsx)("h3",{className:"text-3xl font-bold",children:(null===H||void 0===H?void 0:H.issuesCount)||0}),(0,A.jsx)("p",{className:"text-sm text-muted-foreground",children:e("activeIssues")})]})})})]}),(0,A.jsx)(w.Zp,{className:"mb-8",children:(0,A.jsxs)(w.Wu,{className:"p-6",children:[(0,A.jsx)("h3",{className:"mb-4 text-lg font-medium",children:e("backgroundJobs")}),(0,A.jsx)("p",{className:"mb-6 text-sm text-muted-foreground",children:e("manageBackgroundJobs")}),(0,A.jsx)("div",{className:"overflow-x-auto",children:(0,A.jsxs)("table",{className:"w-full border-collapse",children:[(0,A.jsx)("thead",{children:(0,A.jsxs)("tr",{className:"border-b bg-muted/50",children:[(0,A.jsx)("th",{className:"p-3 text-left",children:e("jobName")}),(0,A.jsx)("th",{className:"p-3 text-left",children:e("description")}),(0,A.jsx)("th",{className:"p-3 text-left",children:e("schedule")}),(0,A.jsx)("th",{className:"p-3 text-left",children:e("lastRunTime")}),(0,A.jsx)("th",{className:"p-3 text-left",children:e("status")}),(0,A.jsx)("th",{className:"p-3 text-left",children:e("common:actionsHeader")})]})}),(0,A.jsx)("tbody",{children:L.map((r=>{const t=D[r.name]||{title:r.name,description:e("noDescription"),icon:v.A,color:"gray"},s=t.icon;return(0,A.jsxs)("tr",{className:"border-b hover:bg-muted/50",children:[(0,A.jsx)("td",{className:"p-3",children:(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("div",{className:"rounded p-1 "+("green"===t.color?"text-green-600":"blue"===t.color?"text-blue-600":"purple"===t.color?"text-purple-600":"orange"===t.color?"text-orange-600":"red"===t.color?"text-red-600":"text-gray-600"),children:(0,A.jsx)(s,{className:"h-4 w-4"})}),(0,A.jsx)("span",{className:"font-medium",children:t.title})]})}),(0,A.jsx)("td",{className:"p-3 text-sm text-muted-foreground",children:t.description}),(0,A.jsx)("td",{className:"p-3",children:r.schedule||e("manual")}),(0,A.jsx)("td",{className:"p-3",children:r.lastRun?new Date(r.lastRun).toLocaleString():e("never")}),(0,A.jsx)("td",{className:"p-3",children:(0,A.jsx)(N.E,{variant:"running"===r.status?"success":"idle"===r.status?"outline":"failed"===r.status?"destructive":"secondary",children:"running"===r.status?e("running"):"idle"===r.status?e("idle"):"failed"===r.status?e("failed"):r.status})}),(0,A.jsx)("td",{className:"p-3",children:"running"===r.status?(0,A.jsxs)(f.$,{variant:"destructive",size:"sm",onClick:()=>(async r=>{try{J(r),await b.vS.stopJob(r),y.oR.success(e("jobStopped",{jobName:r})),P()}catch(t){console.error(`Error stopping job ${r}:`,t),y.oR.error(e("errorStoppingJob",{jobName:r}))}finally{J(null)}})(r.name),disabled:R===r.name,className:"flex items-center gap-1",children:[R===r.name?(0,A.jsx)(h.A,{className:"h-3 w-3 animate-spin"}):(0,A.jsx)(m,{className:"h-3 w-3"}),e("stop")]}):(0,A.jsxs)(f.$,{variant:"default",size:"sm",onClick:()=>(async r=>{try{J(r),await b.vS.startJob(r),y.oR.success(e("jobStarted",{jobName:r})),P()}catch(t){console.error(`Error starting job ${r}:`,t),y.oR.error(e("errorStartingJob",{jobName:r}))}finally{J(null)}})(r.name),disabled:R===r.name,className:"flex items-center gap-1",children:[R===r.name?(0,A.jsx)(h.A,{className:"h-3 w-3 animate-spin"}):(0,A.jsx)(u,{className:"h-3 w-3"}),e("start")]})})]},r.name)}))})]})})]})}),(0,A.jsx)(w.Zp,{children:(0,A.jsxs)(w.Wu,{className:"p-6",children:[(0,A.jsx)("h3",{className:"mb-4 text-lg font-medium",children:e("recentJobRuns")}),(0,A.jsx)("p",{className:"mb-6 text-sm text-muted-foreground",children:e("recentJobRunsDescription")}),(0,A.jsx)("div",{className:"overflow-x-auto",children:(0,A.jsxs)("table",{className:"w-full border-collapse",children:[(0,A.jsx)("thead",{children:(0,A.jsxs)("tr",{className:"border-b bg-muted/50",children:[(0,A.jsx)("th",{className:"p-3 text-left",children:e("jobName")}),(0,A.jsx)("th",{className:"p-3 text-left",children:e("startTime")}),(0,A.jsx)("th",{className:"p-3 text-left",children:e("endTime")}),(0,A.jsx)("th",{className:"p-3 text-left",children:e("duration")}),(0,A.jsx)("th",{className:"p-3 text-left",children:e("status")}),(0,A.jsx)("th",{className:"p-3 text-left",children:e("result")})]})}),(0,A.jsxs)("tbody",{children:[Z.map(((r,t)=>{const s=D[r.jobName]||{title:r.jobName,icon:v.A,color:"gray"},a=s.icon;return(0,A.jsxs)("tr",{className:"border-b hover:bg-muted/50",children:[(0,A.jsx)("td",{className:"p-3",children:(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("div",{className:"rounded p-1 "+("green"===s.color?"text-green-600":"blue"===s.color?"text-blue-600":"purple"===s.color?"text-purple-600":"orange"===s.color?"text-orange-600":"red"===s.color?"text-red-600":"text-gray-600"),children:(0,A.jsx)(a,{className:"h-4 w-4"})}),(0,A.jsx)("span",{className:"font-medium",children:s.title})]})}),(0,A.jsx)("td",{className:"p-3",children:new Date(r.startTime).toLocaleString()}),(0,A.jsx)("td",{className:"p-3",children:r.endTime?new Date(r.endTime).toLocaleString():e("running")}),(0,A.jsx)("td",{className:"p-3",children:r.duration?`${r.duration}ms`:"--"}),(0,A.jsx)("td",{className:"p-3",children:(0,A.jsx)(N.E,{variant:"completed"===r.status?"success":"running"===r.status?"secondary":"destructive",children:"completed"===r.status?e("completed"):"running"===r.status?e("running"):"failed"===r.status?e("failed"):r.status})}),(0,A.jsx)("td",{className:"p-3 text-sm",children:r.result||e("noResult")})]},r.id||t)})),0===Z.length&&(0,A.jsx)("tr",{children:(0,A.jsx)("td",{colSpan:"6",className:"p-4 text-center text-muted-foreground",children:e("noJobRuns")})})]})]})})]})})]})}},6687:(e,r,t)=>{t.d(r,{E:()=>a});t(9643);var s=t(6507);const a=e=>{let{variant:r="default",className:t="",children:a,...o}=e;const l={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground",success:"bg-green-500 text-white hover:bg-green-600",warning:"bg-yellow-500 text-white hover:bg-yellow-600",info:"bg-blue-500 text-white hover:bg-blue-600",pending:"bg-yellow-500 text-white hover:bg-yellow-600",inProgress:"bg-blue-500 text-white hover:bg-blue-600",completed:"bg-green-500 text-white hover:bg-green-600",cancelled:"bg-gray-500 text-white hover:bg-gray-600",delayed:"bg-orange-500 text-white hover:bg-orange-600",onHold:"bg-purple-500 text-white hover:bg-purple-600",PENDING:"bg-yellow-500 text-white hover:bg-yellow-600",IN_TRANSIT:"bg-blue-500 text-white hover:bg-blue-600",DELIVERED:"bg-green-500 text-white hover:bg-green-600",CANCELLED:"bg-gray-500 text-white hover:bg-gray-600",DELAYED:"bg-orange-500 text-white hover:bg-orange-600",ON_HOLD:"bg-purple-500 text-white hover:bg-purple-600"};return(0,s.jsx)("div",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ${l[r]||l.default} ${t}`,...o,children:a})}},6314:(e,r,t)=>{t.d(r,{$:()=>o});var s=t(9643),a=t(6507);const o=s.forwardRef(((e,r)=>{let{className:t="",variant:s="default",size:o="default",children:l,isLoading:n=!1,startIcon:c,endIcon:i,gradient:d=!1,...h}=e;const u={default:d?"bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-primary-dark)] text-white hover:shadow-[var(--shadow-md)] hover:-translate-y-0.5":"bg-[var(--color-primary)] text-white hover:bg-[var(--color-primary-dark)] hover:shadow-[var(--shadow-md)]",destructive:d?"bg-gradient-to-r from-[var(--color-error)] to-[#b91c1c] text-white hover:shadow-[var(--shadow-md)] hover:-translate-y-0.5":"bg-[var(--color-error)] text-white hover:bg-opacity-90 hover:shadow-[var(--shadow-md)]",outline:"border border-[var(--color-border)] bg-transparent text-[var(--text-primary)] hover:bg-[var(--input-bg)] hover:border-[var(--color-primary-light)]",secondary:d?"bg-gradient-to-r from-[var(--color-secondary)] to-[var(--color-secondary-dark)] text-white hover:shadow-[var(--shadow-md)] hover:-translate-y-0.5":"bg-[var(--color-secondary)] text-white hover:bg-[var(--color-secondary-dark)] hover:shadow-[var(--shadow-md)]",accent:d?"bg-gradient-to-r from-[var(--color-accent)] to-[var(--color-accent-dark)] text-white hover:shadow-[var(--shadow-md)] hover:-translate-y-0.5":"bg-[var(--color-accent)] text-white hover:bg-[var(--color-accent-dark)] hover:shadow-[var(--shadow-md)]",ghost:"hover:bg-[var(--input-bg)] text-[var(--text-primary)]",link:"text-[var(--color-primary)] underline-offset-4 hover:underline hover:text-[var(--color-primary-light)]"};return(0,a.jsxs)("button",{className:`relative inline-flex items-center justify-center rounded-md font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-primary)] focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-[var(--shadow-sm)] ${u[s]} ${{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3 text-sm",lg:"h-11 rounded-md px-8 text-lg",icon:"h-10 w-10"}[o]} ${t}`,ref:r,disabled:n||h.disabled,...h,children:[n&&(0,a.jsx)("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,a.jsxs)("span",{className:n?"invisible":"flex items-center gap-2",children:[c&&(0,a.jsx)("span",{className:"mr-1",children:c}),l,i&&(0,a.jsx)("span",{className:"ml-1",children:i})]})]})}));o.displayName="Button"},1868:(e,r,t)=>{t.d(r,{Wu:()=>n,Zp:()=>o,aR:()=>l});t(9643);var s=t(6739),a=t(6507);const o=e=>{let{className:r="",children:t,variant:o="default",isInteractive:l=!1,animate:n=!1,hoverEffect:c="shadow",...i}=e;const d=(()=>{if(!l)return"";switch(c){case"shadow":return"hover:shadow-[var(--shadow-lg)] cursor-pointer";case"lift":return"hover:shadow-[var(--shadow-md)] hover:-translate-y-1 cursor-pointer";case"glow":return"hover:shadow-[0_0_15px_rgba(var(--color-primary-rgb),0.5)] cursor-pointer";default:return"cursor-pointer"}})(),h=n?s.P.div:"div",u=n?{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3}}:{};return(0,a.jsx)(h,{className:`rounded-lg border transition-all duration-200 ${{default:"bg-[var(--color-card-bg)] border-[var(--color-border)] shadow-[var(--shadow-sm)]",primary:"bg-gradient-to-br from-[var(--color-primary)] to-[var(--color-primary-dark)] border-[var(--color-primary)] text-white",secondary:"bg-gradient-to-br from-[var(--color-secondary)] to-[var(--color-secondary-dark)] border-[var(--color-secondary)] text-white",accent:"bg-gradient-to-br from-[var(--color-accent)] to-[var(--color-accent-dark)] border-[var(--color-accent)] text-white",outline:"bg-transparent border-[var(--color-border)] shadow-none",ghost:"border-none shadow-none bg-transparent"}[o]} ${d} ${r}`,...u,...i,children:t})},l=e=>{let{className:r="",children:t,title:s,subtitle:o,icon:l,action:n,gradient:c=!1,...i}=e;const d=c?"gradient-text":"";return(0,a.jsxs)("div",{className:`flex items-center justify-between p-6 pb-3 ${r}`,...i,children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[l&&(0,a.jsx)("div",{className:"text-[var(--color-primary)]",children:l}),(0,a.jsxs)("div",{children:[s&&(0,a.jsx)("h3",{className:`text-lg font-semibold ${d}`,children:s}),o&&(0,a.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:o})]})]}),n&&(0,a.jsx)("div",{children:n}),t]})},n=e=>{let{className:r="",children:t,...s}=e;return(0,a.jsx)("div",{className:`p-6 pt-3 text-[var(--text-primary)] ${r}`,...s,children:t})}},4513:(e,r,t)=>{t.d(r,{Eo:()=>n,R2:()=>a,ZR:()=>o,l1:()=>l,vS:()=>c});const s=t(3231).A.create({baseURL:"https://logistics-dashboard.onrender.com/api",timeout:3e4,headers:{"Content-Type":"application/json"}});s.interceptors.request.use((e=>{const r=localStorage.getItem("authToken");return r&&(e.headers.Authorization=`Bearer ${r}`),e}),(e=>(console.error("Request interceptor error:",e),Promise.reject(e)))),s.interceptors.response.use((e=>e.data),(e=>{if(e.response){var r;const{status:t,data:s}=e.response;return 401===t&&(localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.href="/login"),console.error(`API Error: ${t} - ${null===(r=e.config)||void 0===r?void 0:r.url}`),Promise.reject({status:t,message:(null===s||void 0===s?void 0:s.message)||"An error occurred",errors:(null===s||void 0===s?void 0:s.errors)||{},data:s})}return e.request?(console.error("API Error: No response received"),Promise.reject({status:0,message:"No response received from server",errors:{}})):(console.error("API Error: Request setup failed"),Promise.reject({status:0,message:e.message||"Request setup failed",errors:{}}))}));const a={login:e=>s.post("/auth/login",e).then((e=>(e.token&&(localStorage.setItem("authToken",e.token),e.user&&localStorage.setItem("user",JSON.stringify(e.user))),e))),register:e=>s.post("/auth/register",e),logout:()=>(localStorage.removeItem("authToken"),localStorage.removeItem("user"),s.post("/auth/logout")),getCurrentUser:()=>s.get("/auth/me"),isAuthenticated:()=>!!localStorage.getItem("authToken"),getStoredUser:()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null}},o={getAll:async e=>{try{const r=await s.get("/deliveries",{params:e});return Array.isArray(r)?{docs:r,totalDocs:r.length,totalPages:1,page:1}:r||{docs:[],totalDocs:0,totalPages:0,page:1}}catch(r){throw r}},getById:e=>s.get(`/deliveries/${e}`),create:async e=>{try{if(!localStorage.getItem("authToken"))throw new Error("Authentication required. Please log in.");return await s.post("/deliveries",e)}catch(r){throw console.error("Error in deliveryAPI.create"),r}},update:(e,r)=>s.put(`/deliveries/${e}`,r),delete:async e=>{try{if(!e)throw new Error("Delivery ID is required");return await s.delete(`/deliveries/${e}`)}catch(r){throw console.error(`Error deleting delivery: ${r.message}`),r}},updateStatus:(e,r)=>s.patch(`/deliveries/${e}/status`,{status:r}),assign:(e,r)=>s.patch(`/deliveries/${e}/assign`,{delivererId:r}),getAvailable:()=>s.get("/deliveries/available")},l={getAll:async e=>{try{return await s.get("/deliverers",{params:e})||[]}catch(r){throw r}},getById:e=>s.get(`/deliverers/${e}`),create:async e=>{try{if(!localStorage.getItem("authToken"))throw new Error("Authentication required. Please log in.");return await s.post("/deliverers",e)}catch(r){throw console.error("Error in delivererAPI.create"),r}},update:async(e,r)=>{try{return await s.put(`/deliverers/${e}`,r)}catch(t){throw console.error(`Error in delivererAPI.update for ID ${e}:`,t),t}},delete:e=>s.delete(`/deliverers/${e}`),getStats:(e,r)=>s.get(`/deliverers/${e}/stats`,{params:r}),updateStatus:(e,r)=>s.patch(`/deliverers/${e}/status`,{status:r}),assignDelivery:(e,r)=>s.patch(`/deliverers/${e}/assign`,{deliveryId:r}),getAvailableDeliveries:()=>s.get("/deliveries/available")},n={getAll:e=>s.get("/users",{params:e}),getProfile:async()=>{try{const r=localStorage.getItem("user");if(r){const t=JSON.parse(r);try{const e=await s.get("/users/profile");return localStorage.setItem("user",JSON.stringify(e)),e}catch(e){return t}}if(!localStorage.getItem("authToken"))throw new Error("Authentication required");const t=await s.get("/users/profile");return localStorage.setItem("user",JSON.stringify(t)),t}catch(r){throw console.warn("Error fetching user profile"),r}},getById:e=>s.get(`/users/${e}`),updateProfile:e=>s.put("/users/profile",e),updateRole:(e,r)=>s.put(`/users/${e}/role`,{role:r}),changePassword:e=>s.put("/users/change-password",e),deactivate:e=>s.put(`/users/${e}/deactivate`),delete:e=>s.delete(`/users/${e}`)},c={getStatus:async()=>{try{const e=await s.get("/jobs/status");if(!e)throw new Error("Empty response from jobs status API");return e}catch(e){return console.error("Error fetching jobs status"),{isRunning:!1,totalJobs:0,activeJobs:0,successRate:0,lastRun:null,jobs:[],systemHealth:{status:"unknown",issuesCount:0},recentRuns:[]}}},getHealth:async()=>{try{return await s.get("/jobs/health")}catch(e){throw console.error("Error in jobsAPI.getHealth:",e),e}},getPerformance:async()=>{try{return await s.get("/jobs/performance")}catch(e){throw console.error("Error in jobsAPI.getPerformance:",e),e}},getDashboard:async()=>{try{return await s.get("/jobs/dashboard")}catch(e){throw console.error("Error in jobsAPI.getDashboard:",e),e}},runJob:async e=>{try{return await s.post(`/jobs/run/${e}`)}catch(r){throw console.error(`Error in jobsAPI.runJob for job ${e}:`,r),r}},startJob:async e=>{try{return await s.post(`/jobs/run/${e}`)}catch(r){throw console.error(`Error in jobsAPI.startJob for job ${e}:`,r),r}},stopJob:async e=>{try{return await s.post(`/jobs/stop/${e}`)}catch(r){throw console.error(`Error in jobsAPI.stopJob for job ${e}:`,r),r}},startAllJobs:async()=>{try{return await s.post("/jobs/start")}catch(e){throw console.error("Error in jobsAPI.startAllJobs:",e),e}},stopAllJobs:async()=>{try{return await s.post("/jobs/stop")}catch(e){throw console.error("Error in jobsAPI.stopAllJobs:",e),e}}}},7967:(e,r,t)=>{t.d(r,{A:()=>s});const s=(0,t(541).A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},5295:(e,r,t)=>{t.d(r,{A:()=>s});const s=(0,t(541).A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},4289:(e,r,t)=>{t.d(r,{A:()=>s});const s=(0,t(541).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7222:(e,r,t)=>{t.d(r,{A:()=>s});const s=(0,t(541).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4447:(e,r,t)=>{t.d(r,{A:()=>s});const s=(0,t(541).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},7135:(e,r,t)=>{t.d(r,{A:()=>s});const s=(0,t(541).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}}]);
//# sourceMappingURL=873.9927693c.chunk.js.map