"use strict";(self.webpackChunklogistics_dashboard_frontend=self.webpackChunklogistics_dashboard_frontend||[]).push([[803],{6687:(e,r,t)=>{t.d(r,{E:()=>a});t(9643);var o=t(6507);const a=e=>{let{variant:r="default",className:t="",children:a,...s}=e;const n={default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input hover:bg-accent hover:text-accent-foreground",success:"bg-green-500 text-white hover:bg-green-600",warning:"bg-yellow-500 text-white hover:bg-yellow-600",info:"bg-blue-500 text-white hover:bg-blue-600",pending:"bg-yellow-500 text-white hover:bg-yellow-600",inProgress:"bg-blue-500 text-white hover:bg-blue-600",completed:"bg-green-500 text-white hover:bg-green-600",cancelled:"bg-gray-500 text-white hover:bg-gray-600",delayed:"bg-orange-500 text-white hover:bg-orange-600",onHold:"bg-purple-500 text-white hover:bg-purple-600",PENDING:"bg-yellow-500 text-white hover:bg-yellow-600",IN_TRANSIT:"bg-blue-500 text-white hover:bg-blue-600",DELIVERED:"bg-green-500 text-white hover:bg-green-600",CANCELLED:"bg-gray-500 text-white hover:bg-gray-600",DELAYED:"bg-orange-500 text-white hover:bg-orange-600",ON_HOLD:"bg-purple-500 text-white hover:bg-purple-600"};return(0,o.jsx)("div",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ${n[r]||n.default} ${t}`,...s,children:a})}},6314:(e,r,t)=>{t.d(r,{$:()=>s});var o=t(9643),a=t(6507);const s=o.forwardRef(((e,r)=>{let{className:t="",variant:o="default",size:s="default",children:n,isLoading:l=!1,startIcon:i,endIcon:c,gradient:d=!1,...u}=e;const b={default:d?"bg-gradient-to-r from-[var(--color-primary)] to-[var(--color-primary-dark)] text-white hover:shadow-[var(--shadow-md)] hover:-translate-y-0.5":"bg-[var(--color-primary)] text-white hover:bg-[var(--color-primary-dark)] hover:shadow-[var(--shadow-md)]",destructive:d?"bg-gradient-to-r from-[var(--color-error)] to-[#b91c1c] text-white hover:shadow-[var(--shadow-md)] hover:-translate-y-0.5":"bg-[var(--color-error)] text-white hover:bg-opacity-90 hover:shadow-[var(--shadow-md)]",outline:"border border-[var(--color-border)] bg-transparent text-[var(--text-primary)] hover:bg-[var(--input-bg)] hover:border-[var(--color-primary-light)]",secondary:d?"bg-gradient-to-r from-[var(--color-secondary)] to-[var(--color-secondary-dark)] text-white hover:shadow-[var(--shadow-md)] hover:-translate-y-0.5":"bg-[var(--color-secondary)] text-white hover:bg-[var(--color-secondary-dark)] hover:shadow-[var(--shadow-md)]",accent:d?"bg-gradient-to-r from-[var(--color-accent)] to-[var(--color-accent-dark)] text-white hover:shadow-[var(--shadow-md)] hover:-translate-y-0.5":"bg-[var(--color-accent)] text-white hover:bg-[var(--color-accent-dark)] hover:shadow-[var(--shadow-md)]",ghost:"hover:bg-[var(--input-bg)] text-[var(--text-primary)]",link:"text-[var(--color-primary)] underline-offset-4 hover:underline hover:text-[var(--color-primary-light)]"};return(0,a.jsxs)("button",{className:`relative inline-flex items-center justify-center rounded-md font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--color-primary)] focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-[var(--shadow-sm)] ${b[o]} ${{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3 text-sm",lg:"h-11 rounded-md px-8 text-lg",icon:"h-10 w-10"}[s]} ${t}`,ref:r,disabled:l||u.disabled,...u,children:[l&&(0,a.jsx)("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,a.jsxs)("span",{className:l?"invisible":"flex items-center gap-2",children:[i&&(0,a.jsx)("span",{className:"mr-1",children:i}),n,c&&(0,a.jsx)("span",{className:"ml-1",children:c})]})]})}));s.displayName="Button"},1868:(e,r,t)=>{t.d(r,{Wu:()=>l,Zp:()=>s,aR:()=>n});t(9643);var o=t(6739),a=t(6507);const s=e=>{let{className:r="",children:t,variant:s="default",isInteractive:n=!1,animate:l=!1,hoverEffect:i="shadow",...c}=e;const d=(()=>{if(!n)return"";switch(i){case"shadow":return"hover:shadow-[var(--shadow-lg)] cursor-pointer";case"lift":return"hover:shadow-[var(--shadow-md)] hover:-translate-y-1 cursor-pointer";case"glow":return"hover:shadow-[0_0_15px_rgba(var(--color-primary-rgb),0.5)] cursor-pointer";default:return"cursor-pointer"}})(),u=l?o.P.div:"div",b=l?{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3}}:{};return(0,a.jsx)(u,{className:`rounded-lg border transition-all duration-200 ${{default:"bg-[var(--color-card-bg)] border-[var(--color-border)] shadow-[var(--shadow-sm)]",primary:"bg-gradient-to-br from-[var(--color-primary)] to-[var(--color-primary-dark)] border-[var(--color-primary)] text-white",secondary:"bg-gradient-to-br from-[var(--color-secondary)] to-[var(--color-secondary-dark)] border-[var(--color-secondary)] text-white",accent:"bg-gradient-to-br from-[var(--color-accent)] to-[var(--color-accent-dark)] border-[var(--color-accent)] text-white",outline:"bg-transparent border-[var(--color-border)] shadow-none",ghost:"border-none shadow-none bg-transparent"}[s]} ${d} ${r}`,...b,...c,children:t})},n=e=>{let{className:r="",children:t,title:o,subtitle:s,icon:n,action:l,gradient:i=!1,...c}=e;const d=i?"gradient-text":"";return(0,a.jsxs)("div",{className:`flex items-center justify-between p-6 pb-3 ${r}`,...c,children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[n&&(0,a.jsx)("div",{className:"text-[var(--color-primary)]",children:n}),(0,a.jsxs)("div",{children:[o&&(0,a.jsx)("h3",{className:`text-lg font-semibold ${d}`,children:o}),s&&(0,a.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:s})]})]}),l&&(0,a.jsx)("div",{children:l}),t]})},l=e=>{let{className:r="",children:t,...o}=e;return(0,a.jsx)("div",{className:`p-6 pt-3 text-[var(--text-primary)] ${r}`,...o,children:t})}},9920:(e,r,t)=>{t.d(r,{A:()=>l});t(9643);var o=t(2732),a=t(3877),s=t(6314),n=t(6507);const l=e=>{let{message:r="An error occurred. Please try again.",onRetry:t,className:l="",...i}=e;return(0,n.jsxs)("div",{className:`flex flex-col items-center justify-center rounded-lg border border-destructive/30 bg-destructive/10 p-6 text-center ${l}`,...i,children:[(0,n.jsx)(o.A,{className:"mb-2 h-8 w-8 text-destructive"}),(0,n.jsx)("h3",{className:"mb-2 text-lg font-semibold text-destructive",children:"Error"}),(0,n.jsx)("p",{className:"mb-4 text-sm text-destructive/80",children:r}),t&&(0,n.jsxs)(s.$,{variant:"outline",onClick:t,className:"border-destructive/30 text-destructive hover:bg-destructive/10",children:[(0,n.jsx)(a.A,{className:"mr-2 h-4 w-4"}),"Retry"]})]})}},2616:(e,r,t)=>{t.d(r,{p:()=>s});var o=t(9643),a=t(6507);const s=o.forwardRef(((e,r)=>{let{className:t="",type:o="text",...s}=e;return(0,a.jsx)("input",{type:o,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${t}`,ref:r,...s})}));s.displayName="Input"},9180:(e,r,t)=>{t.d(r,{A:()=>a});t(9643);var o=t(6507);const a=e=>{let{size:r="md",className:t="",...a}=e;const s={sm:"h-4 w-4 border-2",md:"h-8 w-8 border-3",lg:"h-12 w-12 border-4",xl:"h-16 w-16 border-4"},n=s[r]||s.md;return(0,o.jsx)("div",{className:`flex items-center justify-center ${t}`,...a,children:(0,o.jsx)("div",{className:`${n} animate-spin rounded-full border-b-transparent border-l-transparent border-r-transparent border-t-primary`,role:"status","aria-label":"Loading"})})}},1622:(e,r,t)=>{t.d(r,{l:()=>s});var o=t(9643),a=t(6507);const s=o.forwardRef(((e,r)=>{let{className:t="",children:o,...s}=e;return(0,a.jsx)("select",{className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${t}`,ref:r,...s,children:o})}));s.displayName="Select"},3172:(e,r,t)=>{t.d(r,{A0:()=>n,BF:()=>l,Hj:()=>i,XI:()=>s,nA:()=>d,nd:()=>c});var o=t(9643),a=t(6507);const s=o.forwardRef(((e,r)=>{let{className:t="",variant:o="default",hoverable:s=!0,...n}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto rounded-lg shadow-[var(--shadow-md)]",children:(0,a.jsx)("table",{ref:r,className:`w-full caption-bottom text-sm border-collapse ${s?"table-hoverable":""} ${{default:"",striped:"table-striped",bordered:"table-bordered",colorful:"table-colorful"}[o]} ${t}`,...n})})}));s.displayName="Table";const n=o.forwardRef(((e,r)=>{let{className:t="",sticky:o=!1,...s}=e;return(0,a.jsx)("thead",{ref:r,className:`bg-[var(--header-bg)] text-[var(--text-primary)] ${o?"sticky top-0 z-10":""} ${t}`,...s})}));n.displayName="TableHeader";const l=o.forwardRef(((e,r)=>{let{className:t="",...o}=e;return(0,a.jsx)("tbody",{ref:r,className:`${t}`,...o})}));l.displayName="TableBody";const i=o.forwardRef(((e,r)=>{let{className:t="",active:o=!1,highlight:s=!1,status:n=null,...l}=e;const i=o?"bg-[var(--input-bg)] font-medium":"",c=s?"bg-[var(--color-primary)]/5 dark:bg-[var(--color-primary)]/10":"",d=n?{success:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-900",warning:"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-900",error:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-900",info:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-900",primary:"bg-[var(--color-primary-light)]/10 border-[var(--color-primary-light)]/30"}[n]:"";return(0,a.jsx)("tr",{ref:r,className:`border-b border-[var(--color-border)] transition-all hover:bg-[var(--input-bg)] data-[state=selected]:bg-[var(--input-bg)] ${i} ${c} ${d} ${t}`,...l})}));i.displayName="TableRow";const c=o.forwardRef(((e,r)=>{let{className:t="",sorted:o=null,...s}=e;const n="asc"===o?'after:content-["\u2191"] after:ml-1 text-[var(--color-primary)]':"desc"===o?'after:content-["\u2193"] after:ml-1 text-[var(--color-primary)]':"";return(0,a.jsx)("th",{ref:r,className:`h-12 px-4 text-left align-middle font-medium text-[var(--text-primary)] [&:has([role=checkbox])]:pr-0 ${n} ${t}`,...s})}));c.displayName="TableHead";const d=o.forwardRef(((e,r)=>{let{className:t="",highlight:o=!1,truncate:s=!1,...n}=e;const l=o?"bg-[var(--color-primary)]/5 font-medium":"",i=s?"truncate max-w-[200px]":"";return(0,a.jsx)("td",{ref:r,className:`p-4 align-middle [&:has([role=checkbox])]:pr-0 ${l} ${i} ${t}`,...n})}));d.displayName="TableCell";if(o.forwardRef(((e,r)=>{let{className:t="",...o}=e;return(0,a.jsx)("caption",{ref:r,className:`mt-4 text-sm text-[var(--text-secondary)] ${t}`,...o})})).displayName="TableCaption","undefined"!==typeof document){const e=document.createElement("style");e.textContent="\n    .table-striped tbody tr:nth-child(odd) {\n      background-color: var(--input-bg);\n    }\n    \n    .table-bordered th,\n    .table-bordered td {\n      border: 1px solid var(--color-border);\n    }\n    \n    .table-hoverable tbody tr {\n      transition: all 0.2s ease;\n    }\n    \n    .table-hoverable tbody tr:hover {\n      transform: translateY(-1px);\n      box-shadow: var(--shadow-sm);\n    }\n    \n    .table-colorful th {\n      background: linear-gradient(to right, var(--color-primary-light), var(--color-primary));\n      color: white;\n    }\n    \n    .table-colorful tbody tr:hover {\n      background-color: var(--color-primary-light);\n      background-opacity: 0.1;\n    }\n  ",document.head.appendChild(e)}},4513:(e,r,t)=>{t.d(r,{Eo:()=>l,R2:()=>a,ZR:()=>s,l1:()=>n,vS:()=>i});const o=t(3231).A.create({baseURL:"https://logistics-dashboard-api.onrender.com/api",timeout:3e4,headers:{"Content-Type":"application/json"}});o.interceptors.request.use((e=>{const r=localStorage.getItem("authToken");return r&&(e.headers.Authorization=`Bearer ${r}`),e}),(e=>(console.error("Request interceptor error:",e),Promise.reject(e)))),o.interceptors.response.use((e=>e.data),(e=>{if(e.response){var r;const{status:t,data:o}=e.response;return 401===t&&(localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.href="/login"),console.error(`API Error: ${t} - ${null===(r=e.config)||void 0===r?void 0:r.url}`),Promise.reject({status:t,message:(null===o||void 0===o?void 0:o.message)||"An error occurred",errors:(null===o||void 0===o?void 0:o.errors)||{},data:o})}return e.request?(console.error("API Error: No response received"),Promise.reject({status:0,message:"No response received from server",errors:{}})):(console.error("API Error: Request setup failed"),Promise.reject({status:0,message:e.message||"Request setup failed",errors:{}}))}));const a={login:e=>o.post("/auth/login",e).then((e=>(e.token&&(localStorage.setItem("authToken",e.token),e.user&&localStorage.setItem("user",JSON.stringify(e.user))),e))),register:e=>o.post("/auth/register",e),logout:()=>(localStorage.removeItem("authToken"),localStorage.removeItem("user"),o.post("/auth/logout")),getCurrentUser:()=>o.get("/auth/me"),isAuthenticated:()=>!!localStorage.getItem("authToken"),getStoredUser:()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null}},s={getAll:async e=>{try{const r=await o.get("/deliveries",{params:e});return Array.isArray(r)?{docs:r,totalDocs:r.length,totalPages:1,page:1}:r||{docs:[],totalDocs:0,totalPages:0,page:1}}catch(r){throw r}},getById:e=>o.get(`/deliveries/${e}`),create:async e=>{try{if(!localStorage.getItem("authToken"))throw new Error("Authentication required. Please log in.");return await o.post("/deliveries",e)}catch(r){throw console.error("Error in deliveryAPI.create"),r}},update:(e,r)=>o.put(`/deliveries/${e}`,r),delete:async e=>{try{if(!e)throw new Error("Delivery ID is required");return await o.delete(`/deliveries/${e}`)}catch(r){throw console.error(`Error deleting delivery: ${r.message}`),r}},updateStatus:(e,r)=>o.patch(`/deliveries/${e}/status`,{status:r}),assign:(e,r)=>o.patch(`/deliveries/${e}/assign`,{delivererId:r}),getAvailable:()=>o.get("/deliveries/available")},n={getAll:async e=>{try{return await o.get("/deliverers",{params:e})||[]}catch(r){throw r}},getById:e=>o.get(`/deliverers/${e}`),create:async e=>{try{if(!localStorage.getItem("authToken"))throw new Error("Authentication required. Please log in.");return await o.post("/deliverers",e)}catch(r){throw console.error("Error in delivererAPI.create"),r}},update:async(e,r)=>{try{return await o.put(`/deliverers/${e}`,r)}catch(t){throw console.error(`Error in delivererAPI.update for ID ${e}:`,t),t}},delete:e=>o.delete(`/deliverers/${e}`),getStats:(e,r)=>o.get(`/deliverers/${e}/stats`,{params:r}),updateStatus:(e,r)=>o.patch(`/deliverers/${e}/status`,{status:r}),assignDelivery:(e,r)=>o.patch(`/deliverers/${e}/assign`,{deliveryId:r}),getAvailableDeliveries:()=>o.get("/deliveries/available")},l={getAll:e=>o.get("/users",{params:e}),getProfile:async()=>{try{const r=localStorage.getItem("user");if(r){const t=JSON.parse(r);try{const e=await o.get("/users/profile");return localStorage.setItem("user",JSON.stringify(e)),e}catch(e){return t}}if(!localStorage.getItem("authToken"))throw new Error("Authentication required");const t=await o.get("/users/profile");return localStorage.setItem("user",JSON.stringify(t)),t}catch(r){throw console.warn("Error fetching user profile"),r}},getById:e=>o.get(`/users/${e}`),updateProfile:e=>o.put("/users/profile",e),updateRole:(e,r)=>o.put(`/users/${e}/role`,{role:r}),changePassword:e=>o.put("/users/change-password",e),deactivate:e=>o.put(`/users/${e}/deactivate`),delete:e=>o.delete(`/users/${e}`)},i={getStatus:async()=>{try{const e=await o.get("/jobs/status");if(!e)throw new Error("Empty response from jobs status API");return e}catch(e){return console.error("Error fetching jobs status"),{isRunning:!1,totalJobs:0,activeJobs:0,successRate:0,lastRun:null,jobs:[],systemHealth:{status:"unknown",issuesCount:0},recentRuns:[]}}},getHealth:async()=>{try{return await o.get("/jobs/health")}catch(e){throw console.error("Error in jobsAPI.getHealth:",e),e}},getPerformance:async()=>{try{return await o.get("/jobs/performance")}catch(e){throw console.error("Error in jobsAPI.getPerformance:",e),e}},getDashboard:async()=>{try{return await o.get("/jobs/dashboard")}catch(e){throw console.error("Error in jobsAPI.getDashboard:",e),e}},runJob:async e=>{try{return await o.post(`/jobs/run/${e}`)}catch(r){throw console.error(`Error in jobsAPI.runJob for job ${e}:`,r),r}},startJob:async e=>{try{return await o.post(`/jobs/run/${e}`)}catch(r){throw console.error(`Error in jobsAPI.startJob for job ${e}:`,r),r}},stopJob:async e=>{try{return await o.post(`/jobs/stop/${e}`)}catch(r){throw console.error(`Error in jobsAPI.stopJob for job ${e}:`,r),r}},startAllJobs:async()=>{try{return await o.post("/jobs/start")}catch(e){throw console.error("Error in jobsAPI.startAllJobs:",e),e}},stopAllJobs:async()=>{try{return await o.post("/jobs/stop")}catch(e){throw console.error("Error in jobsAPI.stopAllJobs:",e),e}}}}}]);
//# sourceMappingURL=803.074e8dbd.chunk.js.map